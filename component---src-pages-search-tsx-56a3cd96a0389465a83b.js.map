{"version":3,"sources":["webpack:///./src/components/SearchInput/index.tsx","webpack:///./src/components/SearchResult/index.tsx","webpack:///./src/hooks/useQueryParam.ts","webpack:///./src/hooks/useSearchResult.ts","webpack:///./src/pages/search.tsx","webpack:///./src/utils/helpers.ts","webpack:///./src/consts.ts","webpack:///./src/assets/icon.png","webpack:///./src/components/Post/index.tsx","webpack:///./src/hooks/useWindowScroll.ts","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Footer/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/query-string/node_modules/strict-uri-encode/index.js","webpack:///./node_modules/decode-uri-component/index.js","webpack:///./node_modules/split-on-first/index.js"],"names":["SearchInput","props","value","onChange","react","className","type","placeholder","e","val","currentTarget","SearchResult","posts","map","node","Post","key","id","post","excerpt","useQueryParam","location","pathname","search","params","queryString","parse","_useState","useState","param","setParam","useEffect","_Object$assign","newParams","_","pickBy","identity","Object","assign","isEmpty","replace","stringify","useSearchResult","preset","keyword","result","setResult","handler","setTimeout","searchResult","filter","tags","get","date","title","toLower","rawMarkdownBody","startsWith","TAG_SYMBOL","searchTag","trim","includes","DATE_SYMBOL","searchDate","test","format","searchKeyword","clearTimeout","__webpack_require__","d","__webpack_exports__","query","SearchPage","data","getMarkdownRemarkEdgeNode","_useQueryParam","_useQueryParam$","setKeyword","Layout","Container","Row","Col","lg","src_components_SearchInput","length","src_components_SearchResult","getPostLink","_post$frontmatter","frontmatter","pinying","filterChinese","noTone","toLowerCase","formatPostDate","formatReadingTime","time","Math","round","getDocumentScrollTop","window","pageYOffset","document","documentElement","scrollTop","compose","groupByDateFromPost","groupBy","collectTagNamesFromPost","uniq","reduce","concat","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","gatsby__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","n","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","_utils_helpers__WEBPACK_IMPORTED_MODULE_4__","_consts__WEBPACK_IMPORTED_MODULE_5__","html","exp","timeToRead","postLink","clazz","classnames","to","dangerouslySetInnerHTML","__html","name","defaultProps","useWindowSrcoll","callback","scrollListener","event","addEventListener","removeEventListener","headerHeight","Header","_props$metadata","metadata","menu","_React$useState","React","hide","setHide","_React$useState2","lastScrollTop","setLastScrollTop","headerRef","useWindowScroll","current","offsetHeight","headerClassName","header","ref","onClick","navigate","src","iconPng","_ref","path","gatsby_browser_entry","fa","itemClasss","menu-item","active","href","target","Footer","since","author","socials","friends","currentYear","Date","getFullYear","extra","items","_ref2","_ref3","link","_2494680808","src_components_Header","children","src_components_Footer","strictUriEncode","decodeComponent","splitOnFirst","encode","options","strict","encodeURIComponent","decode","extract","input","queryStart","indexOf","slice","formatter","arrayFormat","accumulator","exec","undefined","newValue","split","parserForArrayFormat","ret","create","keys","sort","Boolean","Array","isArray","keysSorter","a","b","Number","object","index","join","encoderForArrayFormat","x","parseUrl","hashStart","url","str","charCodeAt","toString","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","right","prototype","call","tokens","match","i","encodedURI","TypeError","replaceMap","%FE%FF","%FF%FE","entries","customDecodeURIComponent","string","separator","separatorIndex"],"mappings":"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","file":"component---src-pages-search-tsx-56a3cd96a0389465a83b.js","sourcesContent":["import * as React from 'react';\n\nimport './index.scss';\n\ninterface ISearchInputProps {\n  value: any;\n  onChange: any;\n}\n\nconst SearchInput = (props: ISearchInputProps) => {\n  const { value, onChange } = props;\n\n  const handleSearchChange = (e: React.ChangeEvent) => {\n    // @ts-ignore\n    const val = e.currentTarget.value;\n    onChange(val);\n  };\n\n  return (\n    <div className=\"search\">\n      <input\n        type=\"text\"\n        className=\"search-input\"\n        placeholder=\"站内搜索\"\n        value={value}\n        onChange={handleSearchChange}\n      />\n    </div>\n  );\n};\n\nexport default SearchInput;\n","import * as React from 'react';\n\nimport Post from '../Post';\nimport './index.scss';\n\ninterface ISearchResultProps {\n  posts: IMarkdownRemarkNode[];\n}\n\nconst SearchResult = (props: ISearchResultProps) => {\n  const { posts } = props;\n\n  return (\n    <div className=\"search-result\">\n      {posts.map((node: IMarkdownRemarkNode) => (\n        <Post key={node.id} post={node} excerpt />\n      ))}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import { useState, useEffect } from 'react';\nimport { replace } from 'gatsby';\nimport queryString from 'query-string';\nimport _ from 'lodash/fp';\n\nconst useQueryParam = (location: Location, key: string) => {\n  const { pathname, search } = location;\n  const params = queryString.parse(search);\n  const [param, setParam] = useState(params[key]);\n\n  useEffect(() => {\n    const newParams = _.pickBy(_.identity, {\n      ...queryString.parse(location.search),\n      [key]: param,\n    });\n    if (_.isEmpty(newParams)) {\n      replace(pathname);\n    } else {\n      replace(`${pathname}?` + queryString.stringify(newParams));\n    }\n  }, [pathname, key, param]);\n\n  return [param, setParam];\n};\n\nexport default useQueryParam;\n","import { useState, useEffect } from 'react';\nimport format from 'date-fns/format';\nimport _ from 'lodash/fp';\n\nimport { TAG_SYMBOL, DATE_SYMBOL } from '../consts';\n\nconst useSearchResult = (preset: IMarkdownRemarkNode[], keyword: string) => {\n  const [result, setResult] = useState([]);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      if (keyword === '') {\n        setResult([]);\n        return;\n      }\n      const searchResult = _.filter((node: IMarkdownRemarkNode) => {\n        const tags = _.get('frontmatter.tags', node) || [];\n        const date = _.get('frontmatter.date', node);\n        const title = _.toLower(_.get('frontmatter.title', node));\n        const rawMarkdownBody = _.toLower(_.get('rawMarkdownBody', node));\n\n        if (_.startsWith(TAG_SYMBOL, keyword)) {\n          const searchTag = _.toLower(_.trim(keyword.replace(TAG_SYMBOL, '')));\n          return _.includes(searchTag, _.map(_.toLower, tags));\n        }\n        if (_.startsWith(DATE_SYMBOL, keyword)) {\n          const searchDate = _.trim(keyword.replace(DATE_SYMBOL, ''));\n          if (/^\\d{4}$/.test(searchDate)) {\n            return format(searchDate, 'YYYY') === format(date, 'YYYY');\n          }\n          if (/^\\d{4}\\/\\d{1,2}$/.test(searchDate)) {\n            return format(searchDate, 'YYYY/MM') === format(date, 'YYYY/MM');\n          }\n          if (/^\\d{4}\\/\\d{1,2}\\/\\d{1,2}$/.test(searchDate)) {\n            return format(searchDate, 'YYYY/MM/DD') === format(date, 'YYYY/MM/DD');\n          }\n          return false;\n        }\n\n        const searchKeyword = _.toLower(_.trim(keyword));\n        return _.includes(searchKeyword, title) || _.includes(searchKeyword, rawMarkdownBody);\n      }, preset);\n      setResult(searchResult);\n    }, 600);\n\n    return () => clearTimeout(handler);\n  }, [keyword]);\n\n  return result;\n};\n\nexport default useSearchResult;\n","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport _ from 'lodash/fp';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport Layout from '../components/Layout';\nimport SearchInput from '../components/SearchInput';\nimport SearchResult from '../components/SearchResult';\nimport useQueryParam from '../hooks/useQueryParam';\nimport useSearchResult from '../hooks/useSearchResult';\nimport { getMarkdownRemarkEdgeNode } from '../utils/helpers';\n\ninterface ISearchPageProps {\n  location: Location;\n  data: {\n    allMarkdownRemark: IMarkdownRemark;\n  };\n  pageContext: {\n    page: number;\n    total: number;\n    limit: number;\n  };\n}\n\nconst SearchPage = (props: ISearchPageProps) => {\n  const { location, data } = props;\n  const posts = getMarkdownRemarkEdgeNode(data);\n\n  const [keyword = '', setKeyword] = useQueryParam(location, 'keyword');\n  const result = useSearchResult(posts, keyword as string);\n\n  return (\n    <Layout location={location}>\n      <Container>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={10}>\n            <SearchInput value={keyword} onChange={setKeyword} />\n            {result.length > 0 && (\n              <SearchResult posts={result} />\n            )}\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query GetSearchPost {\n    allMarkdownRemark(\n      sort: { fields: frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"YYYY/MM/DD\")\n            tags\n          }\n          excerpt(truncate: true)\n          rawMarkdownBody\n          timeToRead\n        }\n      }\n    }\n  }\n`;\n\nexport default SearchPage;\n","import _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport pinying from 'chinese-to-pinyin';\n\n// getPostLink :: IMarkdownRemarkNode -> string\nexport const getPostLink = (post: IMarkdownRemarkNode) => {\n  const {\n    id,\n    frontmatter: { date, title },\n  } = post;\n  // return `/${id}/`;\n  const pyTitle = pinying(title, {\n    filterChinese: true,\n    noTone: true,\n  });\n  const slug = pyTitle\n    .replace(/[^A-Za-z0-9]/g, ' ')\n    .replace(/\\s+/g, '-')\n    .toLowerCase();\n  return `/${date}/${slug}/`;\n};\n\n// formatPostDate :: string -> string\nexport const formatPostDate = (date: string) => {\n  return format(date, 'YYYY年MM月DD日');\n};\n\n// formatReadingTime :: number -> string\nexport const formatReadingTime = (time: number) => {\n  const minutes = Math.round(time * 2);\n  return `预计阅读需要 ${minutes} 分钟`;\n};\n\n// getDocumentScrollTop :: () -> number\nexport const getDocumentScrollTop = () => {\n  return window.pageYOffset || document.documentElement.scrollTop;\n};\n\n// getMarkdownRemarkEdgeNode :: ImarkdownRemark -> IMarkdownRemarkNode[]\nexport const getMarkdownRemarkEdgeNode = _.compose(\n  _.map('node'),\n  _.get('allMarkdownRemark.edges'),\n);\n\n// groupByDateFromPost :: IMarkdownRemarkNode[] -> Dictionary<ImarkdownRemarkNode[]>\nexport const groupByDateFromPost = _.groupBy(\n  _.compose(\n    (date) => format(date, 'YYYY/MM'),\n    _.get('frontmatter.date'),\n  ),\n);\n\nexport const collectTagNamesFromPost = _.compose(\n  _.uniq,\n  _.reduce(_.concat, []),\n  _.map('frontmatter.tags'),\n);\n","export const TAG_SYMBOL = '@tag:';\nexport const DATE_SYMBOL = '@date:';\n","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classnames from 'classnames';\nimport { FaCalendarAlt, FaClock, FaHashtag } from 'react-icons/fa';\n\nimport { getPostLink, formatPostDate, formatReadingTime } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IPostDetailProps {\n  post: IMarkdownRemarkNode;\n  excerpt?: boolean;\n}\n\nconst Post = (props: IPostDetailProps) => {\n  const { post, excerpt } = props;\n  const { frontmatter: { title, date, tags }, html, excerpt: exp, timeToRead } = post;\n  const postLink = getPostLink(post);\n\n  const clazz = classnames({\n    post: true,\n    excerpt,\n  });\n\n  return (\n    <article className={clazz}>\n      <div className=\"post-header\">\n        {excerpt ? (\n          <h2 className=\"post-title\">\n            <Link className=\"post-title__link\" to={postLink}>\n              {title}\n            </Link>\n          </h2>\n        ) : (\n          <h1 className=\"post-title\">\n            {title}\n          </h1>\n        )}\n        <div className=\"post-meta\">\n          <span className=\"post-created-at\">\n            <span className=\"post-meta__icon\">\n              <FaCalendarAlt />\n            </span>\n            {formatPostDate(date)}\n          </span>\n          <span className=\"post-reading-time\">\n            <span className=\"post-meta__icon\">\n              <FaClock />\n            </span>\n            {formatReadingTime(timeToRead)}\n          </span>\n        </div>\n      </div>\n      <div className=\"post-content\">\n        {excerpt ? (\n          <div>\n            <p className=\"post-excerpt\">{exp}</p>\n            <div className=\"post-read-more\">\n              <Link className=\"post-read-more__link\" to={postLink}>\n                阅读更多...\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\n        )}\n      </div>\n      {!excerpt && (\n        <div className=\"post-footer\">\n          <div className=\"post-tags\">\n            {tags.map((name) => (\n              <span className=\"post-tag\" key={name}>\n                <span className=\"post-tag__icon\">\n                  <FaHashtag />\n                </span>\n                <Link className=\"post-tag__link\" to={`/search?keyword=${TAG_SYMBOL} ${name}`}>\n                  {name}\n                </Link>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  excerpt: false,\n};\n\nexport default Post;\n","import { useEffect } from \"react\";\n\ntype CallbackFunc = (event: Event) => void;\n\nconst useWindowSrcoll = (callback: CallbackFunc) => {\n  useEffect(() => {\n    const scrollListener: EventListener = event => callback(event);\n    document.addEventListener('scroll', scrollListener);\n    return () => {\n      document.removeEventListener('scroll', scrollListener)\n    };\n  });\n};\n\nexport default useWindowSrcoll;","import * as React from 'react';\nimport classnames from 'classnames';\nimport { navigate, Link } from 'gatsby';\nimport { Container } from 'react-bootstrap';\nimport { FaSearch } from 'react-icons/fa';\nimport _ from 'lodash/fp';\n\nimport useWindowScroll from '../../hooks/useWindowScroll';\nimport { getDocumentScrollTop } from '../../utils/helpers';\n\nimport iconPng from '../../assets/icon.png';\nimport './index.scss';\n\ninterface IHeaderComponentProps {\n  location: Location;\n  metadata: ISiteMetadata;\n}\n\nlet headerHeight: number = 0;\n\nconst Header = (props: IHeaderComponentProps) => {\n  const { pathname } = props.location;\n  const { title, menu } = props.metadata;\n\n  const [hide, setHide] = React.useState(false);\n  const [lastScrollTop, setLastScrollTop] = React.useState(0);\n  const headerRef = React.createRef<HTMLDivElement>();\n\n  useWindowScroll((event) => {\n    const scrollTop = getDocumentScrollTop();\n    if (!headerHeight) {\n      headerHeight = headerRef.current.offsetHeight / 2;\n    }\n\n    const outrideHeader = scrollTop < headerHeight;\n    const isScrollUp = scrollTop < lastScrollTop;\n\n    setHide(!(outrideHeader || isScrollUp));\n    setLastScrollTop(scrollTop);\n  });\n\n  const headerClassName = classnames({ header: true, hide });\n\n  return (\n    <header className={headerClassName} ref={headerRef}>\n      <Container>\n        <div className=\"title\">\n          <h1 className=\"title__link\" onClick={() => navigate('/')}>\n            <img className=\"title__icon\" src={iconPng} />\n            {title}\n          </h1>\n        </div>\n        <nav className=\"nav\">\n          <ul className=\"menu\">\n            {menu.map(({ name, path }) => {\n              if (path === '/search') {\n                return (\n                  <li key={path} className=\"menu-item search\">\n                    <Link to=\"/search\" className=\"menu-item__link\">\n                      <FaSearch className=\"menu-item__icon\" />\n                    </Link>\n                  </li>\n                );\n              }\n\n              const itemClasss = classnames({\n                'menu-item': true,\n                'active': path === pathname,\n              });\n              return (\n                <li className={itemClasss} key={path}>\n                  {_.startsWith('//', path) ? (\n                    <a href={path} className=\"menu-item__link\" target=\"__blank\">{name}</a>\n                  ) : (\n                    <Link to={path} className=\"menu-item__link\">{name}</Link>\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Container>\n    </header>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport { FaHeart } from 'react-icons/fa';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport './index.scss';\n\ninterface IFooterProps {\n  metadata: ISiteMetadata;\n}\n\nconst Footer = (props: IFooterProps) => {\n  const { since, author, menu, socials, friends } = props.metadata;\n\n  const currentYear = new Date().getFullYear();\n  const extra = [\n    { title: 'SOCIALS / 社交', items: socials },\n    { title: 'FRIENDS / 友链', items: friends },\n  ];\n\n  return (\n    <footer className=\"footer\">\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <div className=\"copyright\">\n              <ul className=\"menu\">\n                {menu.map(({ name, path }) => (\n                  <li className=\"menu-item\" key={path}>\n                    <Link to={path} className=\"menu-item__link\">\n                      {name}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n              <div className=\"copyright__text\">\n                <span>\n                  Copyright &copy; {since} - {currentYear}\n                </span>\n                <span className=\"copyright__icon\">\n                  <FaHeart />\n                </span>\n                <span>{author}</span>\n              </div>\n              <div className=\"power-by\">\n                <span className=\"power-item\">\n                  Power by\n                  <a className=\"power-item__link\" href=\"https://www.gatsbyjs.org/\">\n                    Gatsbyjs\n                  </a>\n                </span>\n                <span className=\"power-item\">\n                  Design by\n                  <a className=\"power-item__link\" href=\"https://github.com/ahonn\">\n                    Ahonn\n                  </a>\n                </span>\n              </div>\n            </div>\n            <div className=\"extra\">\n              {extra.map(({ title, items }) => (\n                <div className=\"block\" key={title}>\n                  <span className=\"block-title\">{title}</span>\n                  <ul className=\"block-items\">\n                    {items.map(({ name, link }) => (\n                      <li className=\"block-item\" key={link}>\n                        <a className=\"block-item__link\" href={link}>\n                          {name}\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import * as React from 'react';\nimport { get } from 'lodash/fp';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\n\nimport './index.scss';\n\ninterface ILayoutProps extends React.HTMLProps<HTMLDivElement> {\n  location: Location;\n  children: React.ReactNode;\n}\n\nconst Layout = (props: ILayoutProps) => {\n  const { location } = props;\n  const data = useStaticQuery(graphql`\n    query GetSiteMetadata {\n      site {\n        siteMetadata {\n          title\n          since\n          author\n          menu {\n            name\n            path\n          }\n          socials {\n            name\n            link\n          }\n          friends {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = get('site.siteMetadata', data);\n\n  return (\n    <div className=\"layout\">\n      <Header location={location} metadata={metadata} />\n      <div className=\"content\">\n        {props.children}\n      </div>\n      <Footer metadata={metadata} />\n    </div>\n  );\n};\n\nexport default Layout;\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn key => (result, value, index) => {\n\t\t\t\tif (!value) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (index === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(',')];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;\n\t\t\t\tconst newValue = isArray ? value.split(',') : value;\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(param.replace(/\\+/g, ' '), '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\tconst keys = Object.keys(object);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n"],"sourceRoot":""}