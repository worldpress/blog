{"version":3,"sources":["webpack:///./src/components/Pagination/index.tsx","webpack:///./src/components/RecentWidget/index.tsx","webpack:///./src/components/TagsWidget/index.tsx","webpack:///./src/components/ArchivesWidget/index.tsx","webpack:///./src/templates/blog-index.tsx","webpack:///./src/utils/helpers.ts","webpack:///./src/consts.ts","webpack:///./src/assets/icon.png","webpack:///./src/components/Post/index.tsx","webpack:///./src/hooks/useWindowScroll.ts","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Footer/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./src/components/SEO/index.tsx"],"names":["Pagination","props","page","size","total","hasBefore","Math","ceil","hasAfter","react","className","gatsby_browser_entry","to","fa","RecentWidget","posts","slice","map","post","id","_post$frontmatter","frontmatter","date","title","postLink","getPostLink","key","formatPostDate","defaultProps","TagsWidget","data","_885286995","nodes","getMarkdownRemarkEdgeNode","tagNames","collectTagNamesFromNodes","name","TAG_SYMBOL","ArchivesWidget","_3578300786","archiveGroup","groupByDateFromNodes","_ref","DATE_SYMBOL","format","_","__webpack_require__","d","__webpack_exports__","query","IndexPageTemplate","location","pageContext","limit","Layout","SEO","Container","Row","Col","lg","node","Post","excerpt","src_components_Pagination","src_components_RecentWidget","src_components_TagsWidget","src_components_ArchivesWidget","fields","slug","formatReadingTime","time","round","getDocumentScrollTop","window","pageYOffset","document","documentElement","scrollTop","compose","get","sortBy","getTime","entries","groupBy","uniq","reduce","concat","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","gatsby__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","n","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","_utils_helpers__WEBPACK_IMPORTED_MODULE_4__","_consts__WEBPACK_IMPORTED_MODULE_5__","tags","html","exp","timeToRead","clazz","classnames","dangerouslySetInnerHTML","__html","useWindowSrcoll","callback","useEffect","scrollListener","event","addEventListener","removeEventListener","headerHeight","Header","pathname","_props$metadata","metadata","menu","_React$useState","React","hide","setHide","_React$useState2","lastScrollTop","setLastScrollTop","headerRef","useWindowScroll","current","offsetHeight","headerClassName","header","ref","onClick","navigate","src","iconPng","alt","path","aria-label","itemClasss","menu-item","active","startsWith","href","target","Footer","since","author","socials","friends","currentYear","Date","getFullYear","extra","items","_ref2","_ref3","link","_3389584124","src_components_Header","children","src_components_Footer","lang","description","meta","_public_static_d_2827666374_json__WEBPACK_IMPORTED_MODULE_0__","metaTitle","metaDescription","metaTwitter","twitter","url","siteUrl","react__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","a","htmlAttributes","content","property"],"mappings":"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","file":"component---src-templates-blog-index-tsx-77a0ce654164769e5504.js","sourcesContent":["import * as React from 'react';\nimport _ from 'lodash/fp';\nimport { Link } from 'gatsby';\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\n\nimport './index.scss';\n\ninterface IPagintionProps {\n  page: number;\n  size: number;\n  total: number;\n}\n\nconst Pagination = (props: IPagintionProps) => {\n  const { page, size, total } = props;\n  const totalPage = Math.ceil(total / size);\n\n  const hasBefore = page !== totalPage;\n  const hasAfter = page !== 1;\n\n  return (\n    <div className=\"pagination\">\n      {hasBefore && (\n        <div className=\"pagination-before\">\n          <Link className=\"pagination__link\" to={`/page/${page + 1}`}>\n            <span className=\"pagination-before__icon\">\n              <FaChevronLeft />\n            </span>\n            <span className=\"pagination__text\">\n              上一页\n            </span>\n          </Link>\n        </div>\n      )}\n      {hasAfter && (\n        <div className=\"pagination-after\">\n          <Link className=\"pagination__link\" to={`/page/${page - 1}`}>\n            <span className=\"pagination__text\">\n              下一页\n            </span>\n            <span className=\"pagination-after__icon\">\n              <FaChevronRight />\n            </span>\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Pagination;\n","import * as React from 'react';\nimport format from 'date-fns/format';\nimport { Link } from 'gatsby';\n\nimport { getPostLink, formatPostDate } from '../../utils/helpers';\nimport './index.scss';\n\ninterface IRecentWidgetProps {\n  size: number;\n  posts: IMarkdownRemarkNode[];\n}\n\nconst RecentWidget = (props: IRecentWidgetProps) => {\n  const { size, posts } = props;\n\n  return (\n    <div className=\"widget recent\">\n      <h3 className=\"widget-title\">\n        最新文章\n      </h3>\n      <div className=\"widget-content\">\n        {posts.slice(0, size).map((post) => {\n          const { id, frontmatter: { date, title } } = post;\n          const postLink = getPostLink(post);\n\n          return (\n            <div className=\"recent-item\" key={id}>\n              <Link\n                className=\"recent-item__link\"\n                to={postLink}\n              >\n                <span className=\"recent-item__date\">\n                  {formatPostDate(date)}\n                </span>\n                <span className=\"recent-item__title\">\n                  {title}\n                </span>\n              </Link>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nRecentWidget.defaultProps = {\n  size: 5,\n  posts: [],\n};\n\nexport default RecentWidget;\n","import * as React from 'react';\nimport _ from 'lodash/fp';\nimport { FaHashtag } from 'react-icons/fa';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nimport { getMarkdownRemarkEdgeNode, collectTagNamesFromNodes } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface ITagsWidgetProps {\n  size: number;\n  posts: IMarkdownRemarkNode[];\n}\n\nconst TagsWidget = (props: ITagsWidgetProps) => {\n  const { size } = props;\n  const data = useStaticQuery(graphql`\n    query GetAllBlogTags {\n      allMarkdownRemark {\n        edges {\n          node {\n            frontmatter {\n              tags\n            }\n          }\n        }\n      }\n    }\n  `);\n  const nodes = getMarkdownRemarkEdgeNode(data);\n  const tagNames = collectTagNamesFromNodes(nodes);\n\n  return (\n    <div className=\"widget tags\">\n      <h3 className=\"widget-title\">\n        标签\n      </h3>\n      <div className=\"widget-content\">\n        {tagNames.slice(0, size).map((name: string) => (\n          <div className=\"tag-item\" key={name}>\n            <Link\n              className=\"tag-item__link\"\n              to={`/search?keyword=${TAG_SYMBOL} ${name}`}\n            >\n              <span className=\"tag-item__text\">\n                <FaHashtag className=\"tag-item__icon\" />\n                {name}\n              </span>\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nTagsWidget.defaultProps = {\n  size: 20,\n};\n\nexport default TagsWidget;\n","import * as React from 'react';\nimport _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\nimport { FaCaretRight } from 'react-icons/fa';\n\nimport { groupByDateFromNodes, getMarkdownRemarkEdgeNode } from '../../utils/helpers';\nimport { DATE_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IArchivesWidgetProps {\n  size: number;\n}\n\nconst ArchivesWidget = (props: IArchivesWidgetProps) => {\n  const { size } = props;\n\n  const data = useStaticQuery(graphql`\n    query GetAllBlogArchives {\n      allMarkdownRemark {\n        edges {\n          node {\n            frontmatter {\n              date\n              title\n            }\n          }\n        }\n      }\n    }\n  `);\n  const nodes = getMarkdownRemarkEdgeNode(data);\n  const archiveGroup = groupByDateFromNodes(nodes);\n\n  return (\n    <div className=\"widget archives\">\n      <h3 className=\"widget-title\">\n        归档\n      </h3>\n      <div className=\"widget-content\">\n        {archiveGroup.slice(0, size).map(([date, posts]: [string, IMarkdownRemarkNode[]]) => (\n          <div className=\"archive-item\" key={date}>\n            <Link\n              className=\"archive-item__link\"\n              to={`/search?keyword=${DATE_SYMBOL} ${date}`}\n            >\n              <span className=\"archive-item__icon\">\n                <FaCaretRight />\n              </span>\n              <span className=\"archive-item__text\">\n                <span className=\"archive-item__month\">\n                  {format(date, 'YYYY年MM月')}\n                </span>\n                <span className=\"archive-item__count\">\n                  ({_.size(posts)})\n                </span>\n              </span>\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nArchivesWidget.defaultProps = {\n  size: 12,\n  posts: [],\n};\n\nexport default ArchivesWidget;\n","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport Layout from '../components/Layout';\nimport SEO from '../components/SEO';\nimport Post from '../components/Post';\nimport Pagination from '../components/Pagination';\nimport RecentWidget from '../components/RecentWidget';\nimport TagsWidget from '../components/TagsWidget';\nimport ArchivesWidget from '../components/ArchivesWidget';\n\nimport { getMarkdownRemarkEdgeNode } from '../utils/helpers';\n\ninterface IIndexPageProps {\n  location: Location;\n  data: {\n    allMarkdownRemark: IMarkdownRemark;\n  };\n  pageContext: {\n    page: number;\n    total: number;\n    limit: number;\n  };\n}\n\nconst IndexPageTemplate = (props: IIndexPageProps) => {\n  const { location, data, pageContext } = props;\n  const posts = getMarkdownRemarkEdgeNode(data);\n  const { page, total, limit } = pageContext;\n\n  return (\n    <Layout location={location}>\n      <SEO />\n      <Container>\n        <Row>\n          <Col lg={8}>\n            <div className=\"posts\">\n              {posts.map((node: IMarkdownRemarkNode) => (\n                <Post key={node.id} post={node} excerpt />\n              ))}\n            </div>\n            <Pagination page={page} size={limit} total={total} />\n          </Col>\n          <Col lg={4}>\n            <div className=\"widgets\">\n              <RecentWidget posts={posts} />\n              <TagsWidget posts={posts} />\n              <ArchivesWidget posts={posts} />\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query GetAllBlogPost($skip: Int, $limit: Int) {\n    allMarkdownRemark(\n      skip: $skip,\n      limit: $limit,\n      sort: { fields: frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"YYYY/MM/DD\")\n            tags\n          }\n          fields {\n            slug\n          }\n          excerpt(truncate: true)\n          timeToRead\n        }\n      }\n    }\n  }\n`;\n\nexport default IndexPageTemplate;\n","import _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport getTime from 'date-fns/get_time';\n\n// getPostLink :: IMarkdownRemarkNode -> string\nexport const getPostLink = (post: IMarkdownRemarkNode) => {\n  const {\n    fields: { slug },\n  } = post;\n  return slug;\n};\n\n// formatPostDate :: string -> string\nexport const formatPostDate = (date: string) => {\n  return format(date, 'YYYY年MM月DD日');\n};\n\n// formatReadingTime :: number -> string\nexport const formatReadingTime = (time: number) => {\n  const minutes = Math.round(time * 2);\n  return `预计阅读需要 ${minutes} 分钟`;\n};\n\n// getDocumentScrollTop :: () -> number\nexport const getDocumentScrollTop = () => {\n  return window.pageYOffset || document.documentElement.scrollTop;\n};\n\n// getMarkdownRemarkEdgeNode :: ImarkdownRemark -> IMarkdownRemarkNode[]\nexport const getMarkdownRemarkEdgeNode = _.compose(\n  _.map('node'),\n  _.get('allMarkdownRemark.edges'),\n);\n\n// groupByDateFromPost :: IMarkdownRemarkNode[] -> Dictionary<ImarkdownRemarkNode[]>\nexport const groupByDateFromNodes = _.compose(\n  _.sortBy([([date]) => -getTime(date)]),\n  _.entries,\n  _.groupBy(\n    _.compose(\n      (date) => format(date, 'YYYY/MM'),\n      _.get('frontmatter.date'),\n    ),\n  ),\n);\n\n// collectTagNamesFromNodes :: IMarkdownRemarkNode[] -> string[]\nexport const collectTagNamesFromNodes = _.compose(\n  _.uniq,\n  _.reduce(_.concat, []),\n  _.map('frontmatter.tags'),\n);\n","export const TAG_SYMBOL = '@tag:';\nexport const DATE_SYMBOL = '@date:';\n","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classnames from 'classnames';\nimport { FaCalendarAlt, FaClock, FaHashtag } from 'react-icons/fa';\n\nimport { getPostLink, formatPostDate, formatReadingTime } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IPostDetailProps {\n  post: IMarkdownRemarkNode;\n  excerpt?: boolean;\n}\n\nconst Post = (props: IPostDetailProps) => {\n  const { post, excerpt } = props;\n  const {\n    frontmatter: { title, date, tags },\n    html,\n    excerpt: exp,\n    timeToRead,\n  } = post;\n  const postLink = getPostLink(post);\n\n  const clazz = classnames({\n    post: true,\n    excerpt,\n  });\n\n  return (\n    <article className={clazz}>\n      <div className=\"post-header\">\n        {excerpt ? (\n          <h2 className=\"post-title\">\n            <Link className=\"post-title__link\" to={postLink}>\n              {title}\n            </Link>\n          </h2>\n        ) : (\n          <h1 className=\"post-title\">{title}</h1>\n        )}\n        <div className=\"post-meta\">\n          <span className=\"post-created-at\">\n            <span className=\"post-meta__icon\">\n              <FaCalendarAlt />\n            </span>\n            {formatPostDate(date)}\n          </span>\n          <span className=\"post-reading-time\">\n            <span className=\"post-meta__icon\">\n              <FaClock />\n            </span>\n            {formatReadingTime(timeToRead)}\n          </span>\n        </div>\n      </div>\n      <div className=\"post-content\">\n        {excerpt ? (\n          <div>\n            <p className=\"post-excerpt\">{exp}</p>\n            <div className=\"post-read-more\">\n              <Link className=\"post-read-more__link\" to={postLink}>\n                阅读更多...\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\n        )}\n      </div>\n      {!excerpt && (\n        <div className=\"post-footer\">\n          <div className=\"post-tags\">\n            {tags.map((name) => (\n              <span className=\"post-tag\" key={name}>\n                <span className=\"post-tag__icon\">\n                  <FaHashtag />\n                </span>\n                <Link className=\"post-tag__link\" to={`/search?keyword=${TAG_SYMBOL} ${name}`}>\n                  {name}\n                </Link>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  excerpt: false,\n};\n\nexport default Post;\n","import { useEffect } from \"react\";\n\ntype CallbackFunc = (event: Event) => void;\n\nconst useWindowSrcoll = (callback: CallbackFunc) => {\n  useEffect(() => {\n    const scrollListener: EventListener = event => callback(event);\n    document.addEventListener('scroll', scrollListener);\n    return () => {\n      document.removeEventListener('scroll', scrollListener)\n    };\n  });\n};\n\nexport default useWindowSrcoll;","import * as React from 'react';\nimport classnames from 'classnames';\nimport { navigate, Link } from 'gatsby';\nimport { Container } from 'react-bootstrap';\nimport { FaSearch } from 'react-icons/fa';\nimport _ from 'lodash/fp';\n\nimport useWindowScroll from '../../hooks/useWindowScroll';\nimport { getDocumentScrollTop } from '../../utils/helpers';\n\nimport iconPng from '../../assets/icon.png';\nimport './index.scss';\n\ninterface IHeaderComponentProps {\n  location: Location;\n  metadata: ISiteMetadata;\n}\n\nlet headerHeight: number = 0;\n\nconst Header = (props: IHeaderComponentProps) => {\n  const { pathname } = props.location;\n  const { title, menu } = props.metadata;\n\n  const [hide, setHide] = React.useState(false);\n  const [lastScrollTop, setLastScrollTop] = React.useState(0);\n  const headerRef = React.createRef<HTMLDivElement>();\n\n  useWindowScroll((event) => {\n    const scrollTop = getDocumentScrollTop();\n    if (!headerHeight) {\n      headerHeight = headerRef.current.offsetHeight / 2;\n    }\n\n    const outrideHeader = scrollTop < headerHeight;\n    const isScrollUp = scrollTop < lastScrollTop;\n\n    setHide(!(outrideHeader || isScrollUp));\n    setLastScrollTop(scrollTop);\n  });\n\n  const headerClassName = classnames({ header: true, hide });\n\n  return (\n    <header className={headerClassName} ref={headerRef}>\n      <Container>\n        <div className=\"title\">\n          <h1 className=\"title__link\" onClick={() => navigate('/')}>\n            <img className=\"title__icon\" src={iconPng} alt={title} />\n            {title}\n          </h1>\n        </div>\n        <nav className=\"nav\">\n          <ul className=\"menu\">\n            {menu.map(({ name, path, header }) => {\n              if (!header) {\n                return null;\n              }\n\n              if (path === '/search') {\n                return (\n                  <li key={path} className=\"menu-item search\">\n                    <Link to=\"/search\" className=\"menu-item__link\" aria-label={name}>\n                      <FaSearch className=\"menu-item__icon\" />\n                    </Link>\n                  </li>\n                );\n              }\n\n              const itemClasss = classnames({\n                'menu-item': true,\n                'active': path === pathname,\n              });\n              return (\n                <li className={itemClasss} key={path}>\n                  {path.startsWith('http') ? (\n                    <a href={path} className=\"menu-item__link\" target=\"__blank\" aria-label={name}>\n                      {name}\n                    </a>\n                  ) : (\n                    <Link to={path} className=\"menu-item__link\" aria-label={name}>\n                      {name}\n                    </Link>\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Container>\n    </header>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { Link, withPrefix } from 'gatsby';\nimport { FaHeart } from 'react-icons/fa';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport './index.scss';\n\ninterface IFooterProps {\n  metadata: ISiteMetadata;\n}\n\nconst Footer = (props: IFooterProps) => {\n  const { since, author, menu, socials, friends } = props.metadata;\n\n  const currentYear = new Date().getFullYear();\n  const extra = [{ title: 'SOCIALS / 社交', items: socials }, { title: 'FRIENDS / 友链', items: friends }];\n\n  return (\n    <footer className=\"footer\">\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <div className=\"copyright\">\n              <ul className=\"menu\">\n                {menu.map(({ name, path }) => (\n                  <li className=\"menu-item\" key={path}>\n                    {path.startsWith('http') ? (\n                      <a href={path} className=\"menu-item__link\" target=\"__blank\">\n                        {name}\n                      </a>\n                    ) : (\n                      <Link to={path} className=\"menu-item__link\">\n                        {name}\n                      </Link>\n                    )}\n                  </li>\n                ))}\n              </ul>\n              <div className=\"copyright__text\">\n                <span>\n                  Copyright &copy; {since} - {currentYear}\n                </span>\n                <span className=\"copyright__icon\">\n                  <FaHeart />\n                </span>\n                <span>{author}</span>\n              </div>\n              <div className=\"power-by\">\n                <span className=\"power-item\">\n                  Power by\n                  <a className=\"power-item__link\" href=\"https://www.gatsbyjs.org/\">\n                    Gatsbyjs\n                  </a>\n                </span>\n                <span className=\"power-item\">\n                  Design by\n                  <a className=\"power-item__link\" href=\"https://github.com/ahonn\">\n                    Ahonn\n                  </a>\n                </span>\n              </div>\n            </div>\n            <div className=\"extra\">\n              {extra.map(({ title, items }) => (\n                <div className=\"block\" key={title}>\n                  <span className=\"block-title\">{title}</span>\n                  <ul className=\"block-items\">\n                    {items.map(({ name, link }) => (\n                      <li className=\"block-item\" key={link}>\n                        <a className=\"block-item__link\" href={link}>\n                          {name}\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import * as React from 'react';\nimport { get } from 'lodash/fp';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\n\nimport './index.scss';\n\ninterface ILayoutProps extends React.HTMLProps<HTMLDivElement> {\n  location: Location;\n  children: React.ReactNode;\n}\n\nconst Layout = (props: ILayoutProps) => {\n  const { location } = props;\n  const data = useStaticQuery(graphql`\n    query GetSiteMetadata {\n      site {\n        siteMetadata {\n          title\n          since\n          author\n          menu {\n            name\n            path\n            header\n          }\n          socials {\n            name\n            link\n          }\n          friends {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = get('site.siteMetadata', data);\n\n  return (\n    <div className=\"layout\">\n      <Header location={location} metadata={metadata} />\n      <div className=\"content\">\n        {props.children}\n      </div>\n      <Footer metadata={metadata} />\n    </div>\n  );\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport _ from 'lodash/fp';\n\ninterface ISEOProps {\n  lang: string;\n  slug: string;\n  meta: any[];\n  title: string;\n  description: string;\n}\n\nconst SEO = (props: ISEOProps) => {\n  const { lang, slug, title, description, meta } = props;\n  const data = useStaticQuery(graphql`\n    query GetSEOMetadata {\n      site {\n        siteMetadata {\n          title\n          author\n          description\n          siteUrl\n          twitter\n          socials {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = _.get('site.siteMetadata', data);\n  const metaTitle = title ? `${title} - ${metadata.title}` : metadata.title;\n  const metaDescription = description || metadata.description;\n  const metaTwitter = metadata.twitter;\n\n  const url = `${metadata.siteUrl}${slug}`;\n\n  return (\n    <Helmet\n      htmlAttributes={{ lang }}\n      title={metaTitle}\n      meta={[\n        // FIXME: add theme_color into gatsby-config, maybe use _config.yml\n        {\n          name: 'theme-color',\n          content: '#dc001c',\n        },\n        {\n          name: 'description',\n          content: metaDescription,\n        },\n        {\n          property: 'og:url',\n          content: url,\n        },\n        {\n          property: 'og:title',\n          content: metaTitle,\n        },\n        {\n          property: 'og:description',\n          content: metaDescription,\n        },\n        {\n          name: 'twitter:card',\n          content: 'summary',\n        },\n        {\n          name: 'twitter:creator',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:title',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:description',\n          content: metaDescription,\n        },\n        ...meta,\n      ]}\n    />\n  );\n};\n\nSEO.defaultProps = {\n  lang: 'zh-cn',\n  slug: '',\n  title: '',\n  description: '',\n  meta: [],\n};\n\nexport default SEO;\n"],"sourceRoot":""}