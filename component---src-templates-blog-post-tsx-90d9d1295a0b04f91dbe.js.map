{"version":3,"sources":["webpack:///./src/hooks/useGitalk.ts","webpack:///./src/components/Comment/index.tsx","webpack:///./src/templates/blog-post.tsx","webpack:///./src/utils/helpers.ts","webpack:///./src/consts.ts","webpack:///./src/hooks/useWindowScroll.ts","webpack:///./src/assets/icon.png","webpack:///./src/components/Post/index.tsx","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Footer/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./src/components/SEO/index.tsx"],"names":["useGitalk","elemantId","issueId","data","_2176092782","options","_","get","useEffect","Gitalk","clientID","clientSecret","repo","owner","admin","id","location","pathname","number","distractionFreeMode","render","Commemt","props","useWindowScroll","isInViewportByElementId","replaceUrlWithoutRefresh","hash","react","__webpack_require__","d","__webpack_exports__","query","PostPageTemplate","pageContext","_pageContext$redirect","redirect","redirectUrl","post","markdownRemark","postLink","getPostLink","postCommentId","frontmatter","meta","push","http-equiv","content","Layout","SEO","title","description","excerpt","slug","Container","Row","className","Col","lg","Post","components_Comment","fields","formatPostDate","date","format","formatReadingTime","time","Math","round","getDocumentScrollTop","window","pageYOffset","document","documentElement","scrollTop","$el","getElementById","rect","getBoundingClientRect","clientHeight","top","url","history","replaceState","getMarkdownRemarkEdgeNode","compose","map","groupByDateFromNodes","sortBy","_ref","getTime","entries","groupBy","collectTagNamesFromNodes","uniq","reduce","concat","TAG_SYMBOL","DATE_SYMBOL","react__WEBPACK_IMPORTED_MODULE_0__","useWindowSrcoll","callback","resize","scrollListener","event","addEventListener","removeEventListener","module","exports","gatsby__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","n","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","_utils_helpers__WEBPACK_IMPORTED_MODULE_4__","_consts__WEBPACK_IMPORTED_MODULE_5__","_post$frontmatter","tags","html","exp","timeToRead","clazz","classnames","to","dangerouslySetInnerHTML","__html","name","key","defaultProps","headerHeight","Header","_props$metadata","metadata","menu","_React$useState","React","hide","setHide","_React$useState2","lastScrollTop","setLastScrollTop","headerRef","current","offsetHeight","headerClassName","header","ref","onClick","navigate","src","iconPng","alt","path","gatsby_browser_entry","aria-label","fa","itemClasss","menu-item","active","startsWith","href","target","Footer","since","author","socials","friends","currentYear","Date","getFullYear","extra","items","_ref2","_ref3","link","_3389584124","src_components_Header","children","src_components_Footer","lang","_public_static_d_2827666374_json__WEBPACK_IMPORTED_MODULE_0__","metaTitle","metaDescription","metaTwitter","twitter","siteUrl","react__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","a","htmlAttributes","property"],"mappings":"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","file":"component---src-templates-blog-post-tsx-90d9d1295a0b04f91dbe.js","sourcesContent":["import { useEffect } from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n// @ts-ignore\nimport Gitalk from 'gitalk';\nimport _ from 'lodash/fp';\n\nconst useGitalk = (elemantId: string, issueId: number) => {\n  const data = useStaticQuery(graphql`\n    query GetSiteGitalk {\n      site {\n        siteMetadata {\n          gitalk {\n            clientID\n            clientSecret\n            repo\n            owner\n          }\n        }\n      }\n    }\n  `);\n  const options: ISiteGitalk = _.get('site.siteMetadata.gitalk', data);\n\n  useEffect(() => {\n    const gitalk = new Gitalk({\n      clientID: options.clientID,\n      clientSecret: options.clientSecret,\n      repo: options.repo,\n      owner: options.owner,\n      admin: [options.owner],\n      id: location.pathname,\n      number: issueId,\n      distractionFreeMode: false,\n    });\n    gitalk.render(elemantId);\n  }, []);\n};\n\nexport default useGitalk;\n","import * as React from 'react';\n\nimport useGitalk from '../../hooks/useGitalk';\nimport useWindowScroll from '../../hooks/useWindowScroll';\nimport { isInViewportByElementId, replaceUrlWithoutRefresh } from '../../utils/helpers';\n\nimport 'gitalk/dist/gitalk.css';\nimport './index.scss';\n\nconst COMMENT_ELEMENT_ID = 'comment';\n\ninterface ICommentProps {\n  id: number;\n}\n\nconst Commemt = (props: ICommentProps) => {\n  const { id } = props;\n  useGitalk(COMMENT_ELEMENT_ID, id);\n\n  // add `#comment` to url when scroll comment element into viewport\n  useWindowScroll(() => {\n    if (isInViewportByElementId(COMMENT_ELEMENT_ID)) {\n      replaceUrlWithoutRefresh(`${location.pathname}#${COMMENT_ELEMENT_ID}`);\n    } else if (location.hash) {\n      replaceUrlWithoutRefresh(location.pathname);\n    }\n  }, /* resize = */ true);\n\n  return <div id=\"comment\" />;\n};\n\nexport default Commemt;\n","import * as React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { graphql, navigate } from 'gatsby';\n\nimport SEO from '../components/SEO';\nimport Layout from '../components/Layout';\nimport Post from '../components/Post';\nimport Comment from '../components/Comment';\n\nimport { getPostLink } from '../utils/helpers';\n\ninterface IPostPageProps {\n  location: Location;\n  data: {\n    markdownRemark: IMarkdownRemarkNode;\n  };\n  pageContext: {\n    id: string;\n    redirect?: boolean;\n    redirectUrl?: string;\n  };\n}\n\nconst PostPageTemplate = (props: IPostPageProps) => {\n  const { location, data, pageContext } = props;\n  const { redirect = false, redirectUrl } = pageContext;\n\n  const post = data.markdownRemark;\n  const postLink = getPostLink(post);\n  const postCommentId = post.frontmatter.issueId;\n\n  // Used for redirect the old hexo blog posts.\n  // Because when I use gatsby createRedirect in gatsby-node.js.\n  // In the production environment will rendered 404 page before redirect.\n  const meta = [];\n  if (redirect) {\n    meta.push({\n      'http-equiv': 'refresh',\n      'content': `0; url='${redirectUrl}'`,\n    });\n  }\n\n  return (\n    <Layout location={location}>\n      <SEO\n        title={post.frontmatter.title}\n        description={post.excerpt}\n        slug={postLink}\n        meta={meta}\n      />\n      <Container>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={10}>\n            <Post post={data.markdownRemark} />\n            <Comment id={postCommentId} />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query GetBlogPost($id: String) {\n    markdownRemark(id: { eq: $id }) {\n      id\n      frontmatter {\n        title\n        date(formatString: \"YYYY/MM/DD\")\n        tags\n        issueId\n      }\n      fields {\n        slug\n      }\n      excerpt(truncate: true)\n      html\n      timeToRead\n    }\n  }\n`;\n\nexport default PostPageTemplate;\n","import _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport getTime from 'date-fns/get_time';\n\n// getPostLink :: IMarkdownRemarkNode -> string\nexport const getPostLink = (post: IMarkdownRemarkNode) => {\n  const {\n    fields: { slug },\n  } = post;\n  return slug;\n};\n\n// formatPostDate :: string -> string\nexport const formatPostDate = (date: string) => {\n  return format(date, 'YYYY年MM月DD日');\n};\n\n// formatReadingTime :: number -> string\nexport const formatReadingTime = (time: number) => {\n  const minutes = Math.round(time * 2);\n  return `预计阅读需要 ${minutes} 分钟`;\n};\n\n// getDocumentScrollTop :: () -> number\nexport const getDocumentScrollTop = () => {\n  return window.pageYOffset || document.documentElement.scrollTop;\n};\n\n// isInViewportByElementId :: string -> boolean\nexport const isInViewportByElementId = (id) => {\n  const $el = document.getElementById(id);\n  if ($el === null) {\n    return false;\n  }\n  const rect = $el.getBoundingClientRect();\n  const clientHeight = document.documentElement.clientHeight;\n  return rect.top < clientHeight;\n};\n\nexport const replaceUrlWithoutRefresh = (url) => {\n  history.replaceState('', document.title, url);\n};\n\n// getMarkdownRemarkEdgeNode :: ImarkdownRemark -> IMarkdownRemarkNode[]\nexport const getMarkdownRemarkEdgeNode = _.compose(\n  _.map('node'),\n  _.get('allMarkdownRemark.edges'),\n);\n\n// groupByDateFromPost :: IMarkdownRemarkNode[] -> Dictionary<ImarkdownRemarkNode[]>\nexport const groupByDateFromNodes = _.compose(\n  _.sortBy([([date]) => -getTime(date)]),\n  _.entries,\n  _.groupBy(\n    _.compose(\n      (date) => format(date, 'YYYY/MM'),\n      _.get('frontmatter.date'),\n    ),\n  ),\n);\n\n// collectTagNamesFromNodes :: IMarkdownRemarkNode[] -> string[]\nexport const collectTagNamesFromNodes = _.compose(\n  _.uniq,\n  _.reduce(_.concat, []),\n  _.map('frontmatter.tags'),\n);\n","export const TAG_SYMBOL = '@tag:';\nexport const DATE_SYMBOL = '@date:';\n","import { useEffect } from 'react';\n\ntype CallbackFunc = (event: Event) => void;\n\nconst useWindowSrcoll = (callback: CallbackFunc, resize: boolean = false) => {\n  useEffect(() => {\n    const scrollListener: EventListener = (event) => callback(event);\n    document.addEventListener('scroll', scrollListener);\n    return () => {\n      document.removeEventListener('scroll', scrollListener);\n    };\n  });\n};\n\nexport default useWindowSrcoll;\n","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classnames from 'classnames';\nimport { FaCalendarAlt, FaClock, FaHashtag } from 'react-icons/fa';\n\nimport { getPostLink, formatPostDate, formatReadingTime } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IPostDetailProps {\n  post: IMarkdownRemarkNode;\n  excerpt?: boolean;\n}\n\nconst Post = (props: IPostDetailProps) => {\n  const { post, excerpt } = props;\n  const {\n    frontmatter: { title, date, tags },\n    html,\n    excerpt: exp,\n    timeToRead,\n  } = post;\n  const postLink = getPostLink(post);\n\n  const clazz = classnames({\n    post: true,\n    excerpt,\n  });\n\n  return (\n    <article className={clazz}>\n      <div className=\"post-header\">\n        {excerpt ? (\n          <h2 className=\"post-title\">\n            <Link className=\"post-title__link\" to={postLink}>\n              {title}\n            </Link>\n          </h2>\n        ) : (\n          <h1 className=\"post-title\">{title}</h1>\n        )}\n        <div className=\"post-meta\">\n          <span className=\"post-created-at\">\n            <span className=\"post-meta__icon\">\n              <FaCalendarAlt />\n            </span>\n            {formatPostDate(date)}\n          </span>\n          <span className=\"post-reading-time\">\n            <span className=\"post-meta__icon\">\n              <FaClock />\n            </span>\n            {formatReadingTime(timeToRead)}\n          </span>\n        </div>\n      </div>\n      <div className=\"post-content\">\n        {excerpt ? (\n          <div>\n            <p className=\"post-excerpt\">{exp}</p>\n            <div className=\"post-read-more\">\n              <Link className=\"post-read-more__link\" to={postLink}>\n                阅读更多...\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\n        )}\n      </div>\n      {!excerpt && (\n        <div className=\"post-footer\">\n          <div className=\"post-tags\">\n            {tags.map((name) => (\n              <span className=\"post-tag\" key={name}>\n                <span className=\"post-tag__icon\">\n                  <FaHashtag />\n                </span>\n                <Link className=\"post-tag__link\" to={`/search?keyword=${TAG_SYMBOL} ${name}`}>\n                  {name}\n                </Link>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  excerpt: false,\n};\n\nexport default Post;\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport { navigate, Link } from 'gatsby';\nimport { Container } from 'react-bootstrap';\nimport { FaSearch } from 'react-icons/fa';\nimport _ from 'lodash/fp';\n\nimport useWindowScroll from '../../hooks/useWindowScroll';\nimport { getDocumentScrollTop } from '../../utils/helpers';\n\nimport iconPng from '../../assets/icon.png';\nimport './index.scss';\n\ninterface IHeaderComponentProps {\n  location: Location;\n  metadata: ISiteMetadata;\n}\n\nlet headerHeight: number = 0;\n\nconst Header = (props: IHeaderComponentProps) => {\n  const { pathname } = props.location;\n  const { title, menu } = props.metadata;\n\n  const [hide, setHide] = React.useState(false);\n  const [lastScrollTop, setLastScrollTop] = React.useState(0);\n  const headerRef = React.createRef<HTMLDivElement>();\n\n  useWindowScroll((event) => {\n    const scrollTop = getDocumentScrollTop();\n    if (!headerHeight) {\n      headerHeight = headerRef.current.offsetHeight / 2;\n    }\n\n    const outrideHeader = scrollTop < headerHeight;\n    const isScrollUp = scrollTop < lastScrollTop;\n\n    setHide(!(outrideHeader || isScrollUp));\n    setLastScrollTop(scrollTop);\n  });\n\n  const headerClassName = classnames({ header: true, hide });\n\n  return (\n    <header className={headerClassName} ref={headerRef}>\n      <Container>\n        <div className=\"title\">\n          <h1 className=\"title__link\" onClick={() => navigate('/')}>\n            <img className=\"title__icon\" src={iconPng} alt={title} />\n            {title}\n          </h1>\n        </div>\n        <nav className=\"nav\">\n          <ul className=\"menu\">\n            {menu.map(({ name, path, header }) => {\n              if (!header) {\n                return null;\n              }\n\n              if (path === '/search') {\n                return (\n                  <li key={path} className=\"menu-item search\">\n                    <Link to=\"/search\" className=\"menu-item__link\" aria-label={name}>\n                      <FaSearch className=\"menu-item__icon\" />\n                    </Link>\n                  </li>\n                );\n              }\n\n              const itemClasss = classnames({\n                'menu-item': true,\n                'active': path === pathname,\n              });\n              return (\n                <li className={itemClasss} key={path}>\n                  {path.startsWith('http') ? (\n                    <a href={path} className=\"menu-item__link\" target=\"__blank\" aria-label={name}>\n                      {name}\n                    </a>\n                  ) : (\n                    <Link to={path} className=\"menu-item__link\" aria-label={name}>\n                      {name}\n                    </Link>\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Container>\n    </header>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { Link, withPrefix } from 'gatsby';\nimport { FaHeart } from 'react-icons/fa';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport './index.scss';\n\ninterface IFooterProps {\n  metadata: ISiteMetadata;\n}\n\nconst Footer = (props: IFooterProps) => {\n  const { since, author, menu, socials, friends } = props.metadata;\n\n  const currentYear = new Date().getFullYear();\n  const extra = [{ title: 'SOCIALS / 社交', items: socials }, { title: 'FRIENDS / 友链', items: friends }];\n\n  return (\n    <footer className=\"footer\">\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <div className=\"copyright\">\n              <ul className=\"menu\">\n                {menu.map(({ name, path }) => (\n                  <li className=\"menu-item\" key={path}>\n                    {path.startsWith('http') ? (\n                      <a href={path} className=\"menu-item__link\" target=\"__blank\">\n                        {name}\n                      </a>\n                    ) : (\n                      <Link to={path} className=\"menu-item__link\">\n                        {name}\n                      </Link>\n                    )}\n                  </li>\n                ))}\n              </ul>\n              <div className=\"copyright__text\">\n                <span>\n                  Copyright &copy; {since} - {currentYear}\n                </span>\n                <span className=\"copyright__icon\">\n                  <FaHeart />\n                </span>\n                <span>{author}</span>\n              </div>\n              <div className=\"power-by\">\n                <span className=\"power-item\">\n                  Power by\n                  <a className=\"power-item__link\" href=\"https://www.gatsbyjs.org/\">\n                    Gatsbyjs\n                  </a>\n                </span>\n                <span className=\"power-item\">\n                  Design by\n                  <a className=\"power-item__link\" href=\"https://github.com/ahonn\">\n                    Ahonn\n                  </a>\n                </span>\n              </div>\n            </div>\n            <div className=\"extra\">\n              {extra.map(({ title, items }) => (\n                <div className=\"block\" key={title}>\n                  <span className=\"block-title\">{title}</span>\n                  <ul className=\"block-items\">\n                    {items.map(({ name, link }) => (\n                      <li className=\"block-item\" key={link}>\n                        <a className=\"block-item__link\" href={link}>\n                          {name}\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import * as React from 'react';\nimport { get } from 'lodash/fp';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\n\nimport './index.scss';\n\ninterface ILayoutProps extends React.HTMLProps<HTMLDivElement> {\n  location: Location;\n  children: React.ReactNode;\n}\n\nconst Layout = (props: ILayoutProps) => {\n  const { location } = props;\n  const data = useStaticQuery(graphql`\n    query GetSiteMetadata {\n      site {\n        siteMetadata {\n          title\n          since\n          author\n          menu {\n            name\n            path\n            header\n          }\n          socials {\n            name\n            link\n          }\n          friends {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = get('site.siteMetadata', data);\n\n  return (\n    <div className=\"layout\">\n      <Header location={location} metadata={metadata} />\n      <div className=\"content\">\n        {props.children}\n      </div>\n      <Footer metadata={metadata} />\n    </div>\n  );\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport _ from 'lodash/fp';\n\ninterface ISEOProps {\n  lang: string;\n  slug: string;\n  meta: any[];\n  title: string;\n  description: string;\n}\n\nconst SEO = (props: ISEOProps) => {\n  const { lang, slug, title, description, meta } = props;\n  const data = useStaticQuery(graphql`\n    query GetSEOMetadata {\n      site {\n        siteMetadata {\n          title\n          author\n          description\n          siteUrl\n          twitter\n          socials {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = _.get('site.siteMetadata', data);\n  const metaTitle = title ? `${title} - ${metadata.title}` : metadata.title;\n  const metaDescription = description || metadata.description;\n  const metaTwitter = metadata.twitter;\n\n  const url = `${metadata.siteUrl}${slug}`;\n\n  return (\n    <Helmet\n      htmlAttributes={{ lang }}\n      title={metaTitle}\n      meta={[\n        // FIXME: add theme_color into gatsby-config, maybe use _config.yml\n        {\n          name: 'theme-color',\n          content: '#dc001c',\n        },\n        {\n          name: 'description',\n          content: metaDescription,\n        },\n        {\n          property: 'og:url',\n          content: url,\n        },\n        {\n          property: 'og:title',\n          content: metaTitle,\n        },\n        {\n          property: 'og:description',\n          content: metaDescription,\n        },\n        {\n          name: 'twitter:card',\n          content: 'summary',\n        },\n        {\n          name: 'twitter:creator',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:title',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:description',\n          content: metaDescription,\n        },\n        ...meta,\n      ]}\n    />\n  );\n};\n\nSEO.defaultProps = {\n  lang: 'zh-cn',\n  slug: '',\n  title: '',\n  description: '',\n  meta: [],\n};\n\nexport default SEO;\n"],"sourceRoot":""}