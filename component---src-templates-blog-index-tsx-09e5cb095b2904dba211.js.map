{"version":3,"sources":["webpack:///./src/components/Pagination/index.tsx","webpack:///./src/components/RecentWidget/index.tsx","webpack:///./src/components/TagsWidget/index.tsx","webpack:///./src/components/ArchivesWidget/index.tsx","webpack:///./src/templates/blog-index.tsx","webpack:///./src/utils/helpers.ts","webpack:///./src/consts.ts","webpack:///./src/hooks/useWindowScroll.ts","webpack:///./src/assets/icon.png","webpack:///./src/components/Post/index.tsx","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Footer/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./src/components/SEO/index.tsx"],"names":["Pagination","props","page","size","total","hasBefore","Math","ceil","hasAfter","react","className","gatsby_browser_entry","to","fa","RecentWidget","posts","slice","map","post","id","_post$frontmatter","frontmatter","date","title","postLink","getPostLink","key","formatPostDate","defaultProps","TagsWidget","data","_885286995","nodes","getMarkdownRemarkEdgeNode","tagNames","collectTagNamesFromNodes","name","TAG_SYMBOL","ArchivesWidget","_3578300786","archiveGroup","groupByDateFromNodes","_ref","DATE_SYMBOL","format","_","__webpack_require__","d","__webpack_exports__","query","IndexPageTemplate","location","pageContext","limit","Layout","SEO","Container","Row","Col","lg","node","Post","excerpt","src_components_Pagination","src_components_RecentWidget","src_components_TagsWidget","src_components_ArchivesWidget","fields","slug","formatReadingTime","time","round","getDocumentScrollTop","window","pageYOffset","document","documentElement","scrollTop","isInViewportByElementId","$el","getElementById","rect","getBoundingClientRect","clientHeight","top","replaceUrlWithoutRefresh","url","history","replaceState","compose","get","sortBy","getTime","entries","groupBy","uniq","reduce","concat","react__WEBPACK_IMPORTED_MODULE_0__","useWindowSrcoll","callback","resize","useEffect","scrollListener","event","addEventListener","removeEventListener","module","exports","gatsby__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","n","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","_utils_helpers__WEBPACK_IMPORTED_MODULE_4__","_consts__WEBPACK_IMPORTED_MODULE_5__","tags","html","exp","timeToRead","clazz","classnames","dangerouslySetInnerHTML","__html","headerHeight","Header","pathname","_props$metadata","metadata","menu","_React$useState","React","hide","setHide","_React$useState2","lastScrollTop","setLastScrollTop","headerRef","useWindowScroll","current","offsetHeight","headerClassName","header","ref","onClick","navigate","src","iconPng","alt","path","aria-label","itemClasss","menu-item","active","startsWith","href","target","Footer","since","author","socials","friends","currentYear","Date","getFullYear","extra","items","_ref2","_ref3","link","_3389584124","src_components_Header","children","src_components_Footer","lang","description","meta","_public_static_d_2827666374_json__WEBPACK_IMPORTED_MODULE_0__","metaTitle","metaDescription","metaTwitter","twitter","siteUrl","react__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","a","htmlAttributes","content","property"],"mappings":"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","file":"component---src-templates-blog-index-tsx-09e5cb095b2904dba211.js","sourcesContent":["import * as React from 'react';\nimport _ from 'lodash/fp';\nimport { Link } from 'gatsby';\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\n\nimport './index.scss';\n\ninterface IPagintionProps {\n  page: number;\n  size: number;\n  total: number;\n}\n\nconst Pagination = (props: IPagintionProps) => {\n  const { page, size, total } = props;\n  const totalPage = Math.ceil(total / size);\n\n  const hasBefore = page !== totalPage;\n  const hasAfter = page !== 1;\n\n  return (\n    <div className=\"pagination\">\n      {hasBefore && (\n        <div className=\"pagination-before\">\n          <Link className=\"pagination__link\" to={`/page/${page + 1}`}>\n            <span className=\"pagination-before__icon\">\n              <FaChevronLeft />\n            </span>\n            <span className=\"pagination__text\">\n              上一页\n            </span>\n          </Link>\n        </div>\n      )}\n      {hasAfter && (\n        <div className=\"pagination-after\">\n          <Link className=\"pagination__link\" to={`/page/${page - 1}`}>\n            <span className=\"pagination__text\">\n              下一页\n            </span>\n            <span className=\"pagination-after__icon\">\n              <FaChevronRight />\n            </span>\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Pagination;\n","import * as React from 'react';\nimport format from 'date-fns/format';\nimport { Link } from 'gatsby';\n\nimport { getPostLink, formatPostDate } from '../../utils/helpers';\nimport './index.scss';\n\ninterface IRecentWidgetProps {\n  size: number;\n  posts: IMarkdownRemarkNode[];\n}\n\nconst RecentWidget = (props: IRecentWidgetProps) => {\n  const { size, posts } = props;\n\n  return (\n    <div className=\"widget recent\">\n      <h3 className=\"widget-title\">\n        最新文章\n      </h3>\n      <div className=\"widget-content\">\n        {posts.slice(0, size).map((post) => {\n          const { id, frontmatter: { date, title } } = post;\n          const postLink = getPostLink(post);\n\n          return (\n            <div className=\"recent-item\" key={id}>\n              <Link\n                className=\"recent-item__link\"\n                to={postLink}\n              >\n                <span className=\"recent-item__date\">\n                  {formatPostDate(date)}\n                </span>\n                <span className=\"recent-item__title\">\n                  {title}\n                </span>\n              </Link>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nRecentWidget.defaultProps = {\n  size: 5,\n  posts: [],\n};\n\nexport default RecentWidget;\n","import * as React from 'react';\nimport _ from 'lodash/fp';\nimport { FaHashtag } from 'react-icons/fa';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nimport { getMarkdownRemarkEdgeNode, collectTagNamesFromNodes } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface ITagsWidgetProps {\n  size: number;\n  posts: IMarkdownRemarkNode[];\n}\n\nconst TagsWidget = (props: ITagsWidgetProps) => {\n  const { size } = props;\n  const data = useStaticQuery(graphql`\n    query GetAllBlogTags {\n      allMarkdownRemark {\n        edges {\n          node {\n            frontmatter {\n              tags\n            }\n          }\n        }\n      }\n    }\n  `);\n  const nodes = getMarkdownRemarkEdgeNode(data);\n  const tagNames = collectTagNamesFromNodes(nodes);\n\n  return (\n    <div className=\"widget tags\">\n      <h3 className=\"widget-title\">\n        标签\n      </h3>\n      <div className=\"widget-content\">\n        {tagNames.slice(0, size).map((name: string) => (\n          <div className=\"tag-item\" key={name}>\n            <Link\n              className=\"tag-item__link\"\n              to={`/search?keyword=${TAG_SYMBOL} ${name}`}\n            >\n              <span className=\"tag-item__text\">\n                <FaHashtag className=\"tag-item__icon\" />\n                {name}\n              </span>\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nTagsWidget.defaultProps = {\n  size: 20,\n};\n\nexport default TagsWidget;\n","import * as React from 'react';\nimport _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\nimport { FaCaretRight } from 'react-icons/fa';\n\nimport { groupByDateFromNodes, getMarkdownRemarkEdgeNode } from '../../utils/helpers';\nimport { DATE_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IArchivesWidgetProps {\n  size: number;\n}\n\nconst ArchivesWidget = (props: IArchivesWidgetProps) => {\n  const { size } = props;\n\n  const data = useStaticQuery(graphql`\n    query GetAllBlogArchives {\n      allMarkdownRemark {\n        edges {\n          node {\n            frontmatter {\n              date\n              title\n            }\n          }\n        }\n      }\n    }\n  `);\n  const nodes = getMarkdownRemarkEdgeNode(data);\n  const archiveGroup = groupByDateFromNodes(nodes);\n\n  return (\n    <div className=\"widget archives\">\n      <h3 className=\"widget-title\">\n        归档\n      </h3>\n      <div className=\"widget-content\">\n        {archiveGroup.slice(0, size).map(([date, posts]: [string, IMarkdownRemarkNode[]]) => (\n          <div className=\"archive-item\" key={date}>\n            <Link\n              className=\"archive-item__link\"\n              to={`/search?keyword=${DATE_SYMBOL} ${date}`}\n            >\n              <span className=\"archive-item__icon\">\n                <FaCaretRight />\n              </span>\n              <span className=\"archive-item__text\">\n                <span className=\"archive-item__month\">\n                  {format(date, 'YYYY年MM月')}\n                </span>\n                <span className=\"archive-item__count\">\n                  ({_.size(posts)})\n                </span>\n              </span>\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nArchivesWidget.defaultProps = {\n  size: 12,\n  posts: [],\n};\n\nexport default ArchivesWidget;\n","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport Layout from '../components/Layout';\nimport SEO from '../components/SEO';\nimport Post from '../components/Post';\nimport Pagination from '../components/Pagination';\nimport RecentWidget from '../components/RecentWidget';\nimport TagsWidget from '../components/TagsWidget';\nimport ArchivesWidget from '../components/ArchivesWidget';\n\nimport { getMarkdownRemarkEdgeNode } from '../utils/helpers';\n\ninterface IIndexPageProps {\n  location: Location;\n  data: {\n    allMarkdownRemark: IMarkdownRemark;\n  };\n  pageContext: {\n    page: number;\n    total: number;\n    limit: number;\n  };\n}\n\nconst IndexPageTemplate = (props: IIndexPageProps) => {\n  const { location, data, pageContext } = props;\n  const posts = getMarkdownRemarkEdgeNode(data);\n  const { page, total, limit } = pageContext;\n\n  return (\n    <Layout location={location}>\n      <SEO />\n      <Container>\n        <Row>\n          <Col lg={8}>\n            <div className=\"posts\">\n              {posts.map((node: IMarkdownRemarkNode) => (\n                <Post key={node.id} post={node} excerpt />\n              ))}\n            </div>\n            <Pagination page={page} size={limit} total={total} />\n          </Col>\n          <Col lg={4}>\n            <div className=\"widgets\">\n              <RecentWidget posts={posts} />\n              <TagsWidget posts={posts} />\n              <ArchivesWidget posts={posts} />\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query GetAllBlogPost($skip: Int, $limit: Int) {\n    allMarkdownRemark(\n      skip: $skip,\n      limit: $limit,\n      sort: { fields: frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"YYYY/MM/DD\")\n            tags\n          }\n          fields {\n            slug\n          }\n          excerpt(truncate: true)\n          timeToRead\n        }\n      }\n    }\n  }\n`;\n\nexport default IndexPageTemplate;\n","import _ from 'lodash/fp';\nimport format from 'date-fns/format';\nimport getTime from 'date-fns/get_time';\n\n// getPostLink :: IMarkdownRemarkNode -> string\nexport const getPostLink = (post: IMarkdownRemarkNode) => {\n  const {\n    fields: { slug },\n  } = post;\n  return slug;\n};\n\n// formatPostDate :: string -> string\nexport const formatPostDate = (date: string) => {\n  return format(date, 'YYYY年MM月DD日');\n};\n\n// formatReadingTime :: number -> string\nexport const formatReadingTime = (time: number) => {\n  const minutes = Math.round(time * 2);\n  return `预计阅读需要 ${minutes} 分钟`;\n};\n\n// getDocumentScrollTop :: () -> number\nexport const getDocumentScrollTop = () => {\n  return window.pageYOffset || document.documentElement.scrollTop;\n};\n\n// isInViewportByElementId :: string -> boolean\nexport const isInViewportByElementId = (id) => {\n  const $el = document.getElementById(id);\n  if ($el === null) {\n    return false;\n  }\n  const rect = $el.getBoundingClientRect();\n  const clientHeight = document.documentElement.clientHeight;\n  return rect.top < clientHeight;\n};\n\nexport const replaceUrlWithoutRefresh = (url) => {\n  history.replaceState('', document.title, url);\n};\n\n// getMarkdownRemarkEdgeNode :: ImarkdownRemark -> IMarkdownRemarkNode[]\nexport const getMarkdownRemarkEdgeNode = _.compose(\n  _.map('node'),\n  _.get('allMarkdownRemark.edges'),\n);\n\n// groupByDateFromPost :: IMarkdownRemarkNode[] -> Dictionary<ImarkdownRemarkNode[]>\nexport const groupByDateFromNodes = _.compose(\n  _.sortBy([([date]) => -getTime(date)]),\n  _.entries,\n  _.groupBy(\n    _.compose(\n      (date) => format(date, 'YYYY/MM'),\n      _.get('frontmatter.date'),\n    ),\n  ),\n);\n\n// collectTagNamesFromNodes :: IMarkdownRemarkNode[] -> string[]\nexport const collectTagNamesFromNodes = _.compose(\n  _.uniq,\n  _.reduce(_.concat, []),\n  _.map('frontmatter.tags'),\n);\n","export const TAG_SYMBOL = '@tag:';\nexport const DATE_SYMBOL = '@date:';\n","import { useEffect } from 'react';\n\ntype CallbackFunc = (event: Event) => void;\n\nconst useWindowSrcoll = (callback: CallbackFunc, resize: boolean = false) => {\n  useEffect(() => {\n    const scrollListener: EventListener = (event) => callback(event);\n    document.addEventListener('scroll', scrollListener);\n    return () => {\n      document.removeEventListener('scroll', scrollListener);\n    };\n  });\n};\n\nexport default useWindowSrcoll;\n","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classnames from 'classnames';\nimport { FaCalendarAlt, FaClock, FaHashtag } from 'react-icons/fa';\n\nimport { getPostLink, formatPostDate, formatReadingTime } from '../../utils/helpers';\nimport { TAG_SYMBOL } from '../../consts';\nimport './index.scss';\n\ninterface IPostDetailProps {\n  post: IMarkdownRemarkNode;\n  excerpt?: boolean;\n}\n\nconst Post = (props: IPostDetailProps) => {\n  const { post, excerpt } = props;\n  const {\n    frontmatter: { title, date, tags },\n    html,\n    excerpt: exp,\n    timeToRead,\n  } = post;\n  const postLink = getPostLink(post);\n\n  const clazz = classnames({\n    post: true,\n    excerpt,\n  });\n\n  return (\n    <article className={clazz}>\n      <div className=\"post-header\">\n        {excerpt ? (\n          <h2 className=\"post-title\">\n            <Link className=\"post-title__link\" to={postLink}>\n              {title}\n            </Link>\n          </h2>\n        ) : (\n          <h1 className=\"post-title\">{title}</h1>\n        )}\n        <div className=\"post-meta\">\n          <span className=\"post-created-at\">\n            <span className=\"post-meta__icon\">\n              <FaCalendarAlt />\n            </span>\n            {formatPostDate(date)}\n          </span>\n          <span className=\"post-reading-time\">\n            <span className=\"post-meta__icon\">\n              <FaClock />\n            </span>\n            {formatReadingTime(timeToRead)}\n          </span>\n        </div>\n      </div>\n      <div className=\"post-content\">\n        {excerpt ? (\n          <div>\n            <p className=\"post-excerpt\">{exp}</p>\n            <div className=\"post-read-more\">\n              <Link className=\"post-read-more__link\" to={postLink}>\n                阅读更多...\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\n        )}\n      </div>\n      {!excerpt && (\n        <div className=\"post-footer\">\n          <div className=\"post-tags\">\n            {tags.map((name) => (\n              <span className=\"post-tag\" key={name}>\n                <span className=\"post-tag__icon\">\n                  <FaHashtag />\n                </span>\n                <Link className=\"post-tag__link\" to={`/search?keyword=${TAG_SYMBOL} ${name}`}>\n                  {name}\n                </Link>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  excerpt: false,\n};\n\nexport default Post;\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport { navigate, Link } from 'gatsby';\nimport { Container } from 'react-bootstrap';\nimport { FaSearch } from 'react-icons/fa';\nimport _ from 'lodash/fp';\n\nimport useWindowScroll from '../../hooks/useWindowScroll';\nimport { getDocumentScrollTop } from '../../utils/helpers';\n\nimport iconPng from '../../assets/icon.png';\nimport './index.scss';\n\ninterface IHeaderComponentProps {\n  location: Location;\n  metadata: ISiteMetadata;\n}\n\nlet headerHeight: number = 0;\n\nconst Header = (props: IHeaderComponentProps) => {\n  const { pathname } = props.location;\n  const { title, menu } = props.metadata;\n\n  const [hide, setHide] = React.useState(false);\n  const [lastScrollTop, setLastScrollTop] = React.useState(0);\n  const headerRef = React.createRef<HTMLDivElement>();\n\n  useWindowScroll((event) => {\n    const scrollTop = getDocumentScrollTop();\n    if (!headerHeight) {\n      headerHeight = headerRef.current.offsetHeight / 2;\n    }\n\n    const outrideHeader = scrollTop < headerHeight;\n    const isScrollUp = scrollTop < lastScrollTop;\n\n    setHide(!(outrideHeader || isScrollUp));\n    setLastScrollTop(scrollTop);\n  });\n\n  const headerClassName = classnames({ header: true, hide });\n\n  return (\n    <header className={headerClassName} ref={headerRef}>\n      <Container>\n        <div className=\"title\">\n          <h1 className=\"title__link\" onClick={() => navigate('/')}>\n            <img className=\"title__icon\" src={iconPng} alt={title} />\n            {title}\n          </h1>\n        </div>\n        <nav className=\"nav\">\n          <ul className=\"menu\">\n            {menu.map(({ name, path, header }) => {\n              if (!header) {\n                return null;\n              }\n\n              if (path === '/search') {\n                return (\n                  <li key={path} className=\"menu-item search\">\n                    <Link to=\"/search\" className=\"menu-item__link\" aria-label={name}>\n                      <FaSearch className=\"menu-item__icon\" />\n                    </Link>\n                  </li>\n                );\n              }\n\n              const itemClasss = classnames({\n                'menu-item': true,\n                'active': path === pathname,\n              });\n              return (\n                <li className={itemClasss} key={path}>\n                  {path.startsWith('http') ? (\n                    <a href={path} className=\"menu-item__link\" target=\"__blank\" aria-label={name}>\n                      {name}\n                    </a>\n                  ) : (\n                    <Link to={path} className=\"menu-item__link\" aria-label={name}>\n                      {name}\n                    </Link>\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Container>\n    </header>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { Link, withPrefix } from 'gatsby';\nimport { FaHeart } from 'react-icons/fa';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport './index.scss';\n\ninterface IFooterProps {\n  metadata: ISiteMetadata;\n}\n\nconst Footer = (props: IFooterProps) => {\n  const { since, author, menu, socials, friends } = props.metadata;\n\n  const currentYear = new Date().getFullYear();\n  const extra = [{ title: 'SOCIALS / 社交', items: socials }, { title: 'FRIENDS / 友链', items: friends }];\n\n  return (\n    <footer className=\"footer\">\n      <Container>\n        <Row>\n          <Col lg={12}>\n            <div className=\"copyright\">\n              <ul className=\"menu\">\n                {menu.map(({ name, path }) => (\n                  <li className=\"menu-item\" key={path}>\n                    {path.startsWith('http') ? (\n                      <a href={path} className=\"menu-item__link\" target=\"__blank\">\n                        {name}\n                      </a>\n                    ) : (\n                      <Link to={path} className=\"menu-item__link\">\n                        {name}\n                      </Link>\n                    )}\n                  </li>\n                ))}\n              </ul>\n              <div className=\"copyright__text\">\n                <span>\n                  Copyright &copy; {since} - {currentYear}\n                </span>\n                <span className=\"copyright__icon\">\n                  <FaHeart />\n                </span>\n                <span>{author}</span>\n              </div>\n              <div className=\"power-by\">\n                <span className=\"power-item\">\n                  Power by\n                  <a className=\"power-item__link\" href=\"https://www.gatsbyjs.org/\">\n                    Gatsbyjs\n                  </a>\n                </span>\n                <span className=\"power-item\">\n                  Design by\n                  <a className=\"power-item__link\" href=\"https://github.com/ahonn\">\n                    Ahonn\n                  </a>\n                </span>\n              </div>\n            </div>\n            <div className=\"extra\">\n              {extra.map(({ title, items }) => (\n                <div className=\"block\" key={title}>\n                  <span className=\"block-title\">{title}</span>\n                  <ul className=\"block-items\">\n                    {items.map(({ name, link }) => (\n                      <li className=\"block-item\" key={link}>\n                        <a className=\"block-item__link\" href={link}>\n                          {name}\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import * as React from 'react';\nimport { get } from 'lodash/fp';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\n\nimport './index.scss';\n\ninterface ILayoutProps extends React.HTMLProps<HTMLDivElement> {\n  location: Location;\n  children: React.ReactNode;\n}\n\nconst Layout = (props: ILayoutProps) => {\n  const { location } = props;\n  const data = useStaticQuery(graphql`\n    query GetSiteMetadata {\n      site {\n        siteMetadata {\n          title\n          since\n          author\n          menu {\n            name\n            path\n            header\n          }\n          socials {\n            name\n            link\n          }\n          friends {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = get('site.siteMetadata', data);\n\n  return (\n    <div className=\"layout\">\n      <Header location={location} metadata={metadata} />\n      <div className=\"content\">\n        {props.children}\n      </div>\n      <Footer metadata={metadata} />\n    </div>\n  );\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport _ from 'lodash/fp';\n\ninterface ISEOProps {\n  lang: string;\n  slug: string;\n  meta: any[];\n  title: string;\n  description: string;\n}\n\nconst SEO = (props: ISEOProps) => {\n  const { lang, slug, title, description, meta } = props;\n  const data = useStaticQuery(graphql`\n    query GetSEOMetadata {\n      site {\n        siteMetadata {\n          title\n          author\n          description\n          siteUrl\n          twitter\n          socials {\n            name\n            link\n          }\n        }\n      }\n    }\n  `);\n  const metadata = _.get('site.siteMetadata', data);\n  const metaTitle = title ? `${title} - ${metadata.title}` : metadata.title;\n  const metaDescription = description || metadata.description;\n  const metaTwitter = metadata.twitter;\n\n  const url = `${metadata.siteUrl}${slug}`;\n\n  return (\n    <Helmet\n      htmlAttributes={{ lang }}\n      title={metaTitle}\n      meta={[\n        // FIXME: add theme_color into gatsby-config, maybe use _config.yml\n        {\n          name: 'theme-color',\n          content: '#dc001c',\n        },\n        {\n          name: 'description',\n          content: metaDescription,\n        },\n        {\n          property: 'og:url',\n          content: url,\n        },\n        {\n          property: 'og:title',\n          content: metaTitle,\n        },\n        {\n          property: 'og:description',\n          content: metaDescription,\n        },\n        {\n          name: 'twitter:card',\n          content: 'summary',\n        },\n        {\n          name: 'twitter:creator',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:title',\n          content: metaTwitter,\n        },\n        {\n          name: 'twitter:description',\n          content: metaDescription,\n        },\n        ...meta,\n      ]}\n    />\n  );\n};\n\nSEO.defaultProps = {\n  lang: 'zh-cn',\n  slug: '',\n  title: '',\n  description: '',\n  meta: [],\n};\n\nexport default SEO;\n"],"sourceRoot":""}