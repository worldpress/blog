{"data":{"markdownRemark":{"id":"bd6c1bb5-bd1f-5e48-becc-6b4c2c3333bd","frontmatter":{"title":"从零开始制作 Hexo 主题","date":"2016/12/15","tags":["Hexo","前端"],"issueId":33},"fields":{"slug":"从零开始制作Hexo主题"},"excerpt":"写在前面 本文将会从零开始开发一个简单的博客主题。样式主要参考  Hexo theme  中的  Noise  主题。 开始之前你需要了解： 模板引擎 CSS预处理器 Hexo 文档 本文使用的模板引擎为  ejs ，使用的 CSS 预处理器为  stylus 。这也是 hex…","html":"<h2 id=\"写在前面\"><a href=\"#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2\" aria-label=\"写在前面 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>写在前面</h2>\n<p>本文将会从零开始开发一个简单的博客主题。样式主要参考 <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hexo theme</a> 中的 <a href=\"https://github.com/lotabout/hexo-theme-noise\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Noise</a> 主题。</p>\n<p>开始之前你需要了解：</p>\n<ul>\n<li>模板引擎</li>\n<li>CSS预处理器</li>\n<li>Hexo 文档</li>\n</ul>\n<p>本文使用的模板引擎为 <a href=\"http://www.embeddedjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ejs</a>，使用的 CSS 预处理器为 <a href=\"http://stylus-lang.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">stylus</a>。这也是 hexo 项目预装了的 render 插件，如果想使用其他模板引擎或者其他 CSS 预处理器，可以安装相对应的 render 插件。例如我的 <a href=\"https://github.com/ahonn/hexo-theme-even\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Even</a> 主题使用的是 Swig 与 SCSS。</p>\n<p>本文的代码： <a href=\"https://github.com/ahonn/theme-example\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">theme-example</a> 。</p>\n<!--more-->\n<h2 id=\"目录结构\"><a href=\"#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\" aria-label=\"目录结构 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目录结构</h2>\n<p>主题目录结构以自带的 <a href=\"https://github.com/hexojs/hexo-theme-landscape\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">landscape</a> 主题为例：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\n├── languages  语言文件，用于国际化\n├── layout     页面模板文件\n├── scripts    Hexo 脚本\n└── source     主题资源文件，包括页面样式，脚本，字体等</code></pre></div>\n<p>我们在 <code class=\"language-text\">themes</code> 中新建 <code class=\"language-text\">theme-example</code> 文件夹，然后在 <code class=\"language-text\">theme-example</code> 中按照 landscape 主题的目录结构新建 <code class=\"language-text\">languages</code>，<code class=\"language-text\">layout</code>，<code class=\"language-text\">scripts</code> 与 <code class=\"language-text\">source</code> 文件夹。</p>\n<h2 id=\"创建布局模板\"><a href=\"#%E5%88%9B%E5%BB%BA%E5%B8%83%E5%B1%80%E6%A8%A1%E6%9D%BF\" aria-label=\"创建布局模板 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建布局模板</h2>\n<p>在 <code class=\"language-text\">layout</code> 中创建 <code class=\"language-text\">index.ejs</code> 文件，首页将会使用该布局模板生成 HTML 文件。</p>\n<p><code class=\"language-text\">layout/index.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content-type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello Word<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>修改站点配置文件中的主题配置，使用我们刚刚创建的 <code class=\"language-text\">theme-example</code> 主题：</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"># Extensions\n## Plugins: https://hexo.io/plugins/\n## Themes: https://hexo.io/themes/\ntheme: theme-example</code></pre></div>\n<p>运行 <code class=\"language-text\">hexo server --debug</code> 以 debug 模式开启 Hexo 本地服务器预览，访问 <a href=\"http://localhost:4000/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:4000/</a>。</p>\n<p><img src=\"https://ahonn-me.oss-cn-beijing.aliyuncs.com/images/6up8p.jpg\" alt=\"Hello World\"></p>\n<h2 id=\"添加页面导航\"><a href=\"#%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA\" aria-label=\"添加页面导航 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加页面导航</h2>\n<p>现在我们需要在页面中添加导航，由于导航不单单会在首页出现，所以我们在 <code class=\"language-text\">layout</code> 中创建共用的布局文件 <code class=\"language-text\">layout.ejs</code>， 同时创建 <code class=\"language-text\">_partial/head.ejs</code> 保存 HTML 的 head 以及创建 <code class=\"language-text\">_partial/header.ejs</code> 文件，编写页面导航部分。</p>\n<p><code class=\"language-text\">layout/layout.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  &lt;%- partial('_partial/head') %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    &lt;%- partial('_partial/header') %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      &lt;%- body %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-text\">layout.ejs</code> 文件通过 <code class=\"language-text\">partial()</code> 函数来包含其他文件，使得我们能够更好的组织代码。详见 <a href=\"https://hexo.io/docs/templates.html#Partials\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Templates | Hexo</a>。</p>\n<p><code class=\"language-text\">layout/_partial/head.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content-type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>&lt;%= config.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>这里使用了 <code class=\"language-text\">config</code> 变量，该变量包含的是站点配置（即站点根目录下 <code class=\"language-text\">_config.yml</code> 中的配置）。除此之外，Hexo 还提供了许多变量可在模板中使用，详见 <a href=\"https://hexo.io/docs/variables.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Variables | Hexo</a>。</p>\n<p><code class=\"language-text\">layout/_partial/header.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blog-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for() %><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= config.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>navbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item-link<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/archives<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item-link<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Archive<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>接着我们清空 <code class=\"language-text\">index.ejs</code> 中的内容，并添加 <code class=\"language-text\">&lt;h2&gt;Hello World&lt;/h2&gt;</code>。在 <code class=\"language-text\">layout</code> 目录下的 <code class=\"language-text\">index.ejs</code> 会自动继承 <code class=\"language-text\">layout.ejs</code>，并将其中的内容填入 <code class=\"language-text\">&lt;%- body %&gt;</code> 的位置。我们将得到一个有导航菜单的 Hello World 页面。</p>\n<p><img src=\"https://ahonn-me.oss-cn-beijing.aliyuncs.com/images/v7x9h.jpg\" alt=\"Index\"></p>\n<h2 id=\"添加主题配置文件\"><a href=\"#%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\" aria-label=\"添加主题配置文件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加主题配置文件</h2>\n<p>实际上我们需要让导航菜单根据我们的需要显示不同的项，上面这种写法不方便修改。所以我们会在主题的配置文件中添加导航菜单的配置。在 <code class=\"language-text\">thmem-demo</code> 下新建主题的配置文件 <code class=\"language-text\">_config.yml</code>，在其中添加需要配置的字段。然后可以通过 <code class=\"language-text\">theme</code> 这个变量来拿到该配置文件中的配置。</p>\n<p><code class=\"language-text\">theme-example/_config.yml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">menu:\n  Home: /\n  Archives: /archives</code></pre></div>\n<p>这样我们就可以在 <code class=\"language-text\">header.ejs</code> 中使用 <code class=\"language-text\">theme.menu</code> 获取到导航菜单的设置。将 <code class=\"language-text\">header.ejs</code> 修改为：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blog-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for() %><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= config.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>navbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      &lt;% for (name in theme.menu) { %>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for(theme.menu[name]) %><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item-link<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= name %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      &lt;% } %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>当需要在导航中添加链接的时候就可以在配置文件中直接添加，例如添加 Github 的链接：</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">menu:\n  Home: /\n  Archives: /archives\n  Github: https://github.com/ahonn</code></pre></div>\n<p>除此之外还可以添加其他需要的配置，例如 RSS，评论等等。</p>\n<h2 id=\"添加首页文章列表\"><a href=\"#%E6%B7%BB%E5%8A%A0%E9%A6%96%E9%A1%B5%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8\" aria-label=\"添加首页文章列表 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加首页文章列表</h2>\n<p>接着我们完善首页的模板，使其能够显示文章列表。前面已经说过 Hexo 提供了各种有用的变量，在这里将会使用到 <code class=\"language-text\">page</code> 这个变量。<code class=\"language-text\">page</code> 会根据不同的页面拥有不同的属性。具体有什么属性，可以获取到哪些数据可以查看<a href=\"https://hexo.io/docs/variables.html#Page-Variables\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">这里</a>。</p>\n<p>那么这里我们会使用 <code class=\"language-text\">page</code> 变量的 <code class=\"language-text\">posts</code> 属性拿到文章数据的集合。编辑 <code class=\"language-text\">index.ejs</code> 文件：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>posts<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  &lt;% page.posts.each(function (post) { %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-title-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for(post.path) %><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= post.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        &lt;%- post.content %>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-meta<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-time<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%- date(post.date, \"YYYY-MM-DD\") %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span>\n  &lt;% }) %>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>从 <code class=\"language-text\">page.posts</code> 中获取单篇文章的数据，并获取文章的标题，内容等数据填充到模板中。处理文章创建时间的时候使用了 <code class=\"language-text\">date()</code> 函数，这是 Hexo 提供的时间处理的<a href=\"https://hexo.io/docs/helpers.html#date\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">辅助函数</a>。本文中使用到的函数如无特别说明，即为 Hexo 的辅助函数。</p>\n<h3 id=\"文章摘录\"><a href=\"#%E6%96%87%E7%AB%A0%E6%91%98%E5%BD%95\" aria-label=\"文章摘录 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文章摘录</h3>\n<p>由于首页显示文章内容时使用的是 <code class=\"language-text\">post.content</code>，即文章的全部内容。所以首页会显示每一篇文章的内容，实际上我们并不想在首页显示那么多内容，只想显示文章的摘录。</p>\n<p>Hexo 提供了 <code class=\"language-text\">excerpt</code> 属性来获取文章的摘录部分，不过这里需要在文章中添加一个 <code class=\"language-text\">&lt;!--more--&gt;</code> 标记。添加了这个标记之后，<code class=\"language-text\">post.excerpt</code> 将会获取到标记之前的内容。如果没有这个标记，那么 <code class=\"language-text\">post.excerpt</code> 会是空的。所以我们可以把首页文章内容部分的 <code class=\"language-text\">post.content</code> 替换成 <code class=\"language-text\">post.excerpt</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  &lt;%- post.excerpt %>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"添加页面样式\"><a href=\"#%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F\" aria-label=\"添加页面样式 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加页面样式</h2>\n<p>到目前为止，我们完成了首页的页面结构，但是并没有添加样式，所以看起来很丑。我们在 <code class=\"language-text\">source</code> 文件中创建一个 <code class=\"language-text\">css</code> 文件夹来存放样式文件。</p>\n<p>由于 Hexo 在新建项目的时候会安装 <code class=\"language-text\">hexo-renderer-stylus</code> 这个插件，所以我们无需其他步骤，只需要将样式文件放到 <code class=\"language-text\">css</code> 文件夹中。Hexo 在生成页面的时候会将 <code class=\"language-text\">source</code> 中的所有文件复制到生成的 <code class=\"language-text\">public</code> 文件中，并且在此之前会编译 styl 为 css 文件。</p>\n<p>在 <code class=\"language-text\">css</code> 文件夹中创建 <code class=\"language-text\">style.styl</code>，编写一些基础的样式，并把所有样式 <code class=\"language-text\">import</code> 到这个文件。所以最终编译之后只会有 <code class=\"language-text\">style.css</code> 一个文件。创建 <code class=\"language-text\">_partial/header.styl</code> 与 <code class=\"language-text\">_partial/post.styl</code> 存放页面导航以及文章的样式，并且在 <code class=\"language-text\">style.styl</code> 中 <code class=\"language-text\">import</code> 这两个文件。</p>\n<p><code class=\"language-text\">_partial/header.styl</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"stylus\"><pre class=\"language-stylus\"><code class=\"language-stylus\"><span class=\"token selector\">.header <span class=\"token punctuation\">{</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>em</span>\n  <span class=\"token property-declaration\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex</span>\n  <span class=\"token property-declaration\"><span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> baseline</span>\n  <span class=\"token property-declaration\"><span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> space-between</span>\n\n  <span class=\"token selector\">.blog-title .logo <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#AAA</span><span class=\"token punctuation\">;</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>em<span class=\"token punctuation\">;</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Comic Sans MS\"</span><span class=\"token punctuation\">,</span>cursive<span class=\"token punctuation\">,</span>LiSu<span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">;</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.menu <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span>\n\n    <span class=\"token selector\">.menu-item <span class=\"token punctuation\">{</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span></span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.menu-item-link <span class=\"token punctuation\">{</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#AAA</span><span class=\"token punctuation\">;</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n\n      <span class=\"token selector\">&amp;:hover <span class=\"token punctuation\">{</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#368CCB</span><span class=\"token punctuation\">;</span></span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">_partial/post.style</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"stylus\"><pre class=\"language-stylus\"><code class=\"language-stylus\"><span class=\"token selector\">.post <span class=\"token punctuation\">{</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>em auto<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>px <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#fff</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid <span class=\"token hexcode\">#ddd</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">2</span>px <span class=\"token hexcode\">#ddd</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.posts  <span class=\"token punctuation\">{</span></span>\n  <span class=\"token selector\">.post:first-child <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.post-title <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1.5</span>em<span class=\"token punctuation\">;</span></span>\n\n    <span class=\"token selector\">.post-title-link <span class=\"token punctuation\">{</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#368CCB</span><span class=\"token punctuation\">;</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.post-content <span class=\"token punctuation\">{</span></span>\n    <span class=\"token selector\">a <span class=\"token punctuation\">{</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#368CCB</span><span class=\"token punctuation\">;</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.post-meta <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#BABABA</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">style.styl</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"stylus\"><pre class=\"language-stylus\"><code class=\"language-stylus\"><span class=\"token selector\">body <span class=\"token punctuation\">{</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#F2F2F2</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1.25</span>rem<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.container <span class=\"token punctuation\">{</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">960</span>px<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> auto<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule-declaration\"><span class=\"token atrule\">@import</span> <span class=\"token string\">\"_partial/header\"</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule-declaration\"><span class=\"token atrule\">@import</span> <span class=\"token string\">\"_partial/post\"</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>最后，我们需要把样式添加到页面中，这里使用了另外一个辅助函数 <a href=\"https://hexo.io/docs/helpers.html#css\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">css()</code></a>:</p>\n<p><code class=\"language-text\">layout/_partial/head.ejs</code></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content-type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>&lt;%= config.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  &lt;%- css('css/style.css') %>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>至此，我们会看到站点的首页是这个样子的：</p>\n<p><img src=\"https://ahonn-me.oss-cn-beijing.aliyuncs.com/images/z38nr.jpg\" alt=\"Home Page\"></p>\n<p><strong>注意，这里会报错。原因是生成文章页时没有找到对应的模版，所以使用了首页的模版，但文章页并没有 <code class=\"language-text\">page.posts</code> 这个属性（undefined 没有 each 方法）。新建 post.ejs 即可解决，或直接跳过直到完成文章页模版。</strong></p>\n<h2 id=\"添加分页\"><a href=\"#%E6%B7%BB%E5%8A%A0%E5%88%86%E9%A1%B5\" aria-label=\"添加分页 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加分页</h2>\n<p>在站点的 <code class=\"language-text\">source/_post/</code> 目录下存放的是我们的文章，现在我们把原本的 <code class=\"language-text\">hello-world.md</code> 复制黏贴 10+ 次，再查看站点首页。会发现，首页只显示了 10 篇文章。</p>\n<p>首页显示的文章数量我们可以通过站点配置文件中的 <code class=\"language-text\">per_page</code> 字段来修改，但是我们不可能把所有文章都放在一页，所以我们现在来添加文章列表的分页。</p>\n<p>新建 <code class=\"language-text\">_partial/paginator.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">&lt;% if (page.total > 1){ %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>page-nav<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    &lt;%- paginator({\n      prev_text: \"<span class=\"token entity\" title=\"&laquo;\">&amp;laquo;</span> Prev\",\n      next_text: \"Next <span class=\"token entity\" title=\"&raquo;\">&amp;raquo;</span>\"\n    }) %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n&lt;% } %></code></pre></div>\n<p>在 <code class=\"language-text\">index.ejs</code> 中添加这个文件的内容：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n&lt;%- partial('_partial/paginator') %></code></pre></div>\n<p>这里我们使用到了另外的一个辅助函数 <a href=\"https://hexo.io/docs/helpers.html#paginator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">paginator</code></a>，它能够帮助我们插入分页链接。</p>\n<h2 id=\"添加文章详情页\"><a href=\"#%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5\" aria-label=\"添加文章详情页 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加文章详情页</h2>\n<p>文章详情页对应的布局文件是 <code class=\"language-text\">post.ejs</code>，新建 <code class=\"language-text\">post.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= page.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-meta<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-time<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%- date(page.date, \"YYYY-MM-DD\") %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    &lt;%- page.content %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>由于这里是文章的模板，所以变量 <code class=\"language-text\">page</code> 表示的是文章的数据，而不是首页的文章数据集合。</p>\n<h2 id=\"添加归档页\"><a href=\"#%E6%B7%BB%E5%8A%A0%E5%BD%92%E6%A1%A3%E9%A1%B5\" aria-label=\"添加归档页 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加归档页</h2>\n<p>创建归档页使用的模板文件 <code class=\"language-text\">archive.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>archive<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-archive<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    &lt;% page.posts.each(function (post) { %>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-date<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= date(post.date, \"YYYY-MM-DD\") %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for(post.path) %><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= post.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n    &lt;% }) %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n&lt;%- partial('_partial/paginator') %></code></pre></div>\n<p>其实结构跟首页差不多，只是不显示文章内容而已。添加归档页的样式：</p>\n<p><code class=\"language-text\">css/_partial/archive.styl</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"stylus\"><pre class=\"language-stylus\"><code class=\"language-stylus\"><span class=\"token selector\">.archive <span class=\"token punctuation\">{</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>em auto<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>px <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#fff</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid <span class=\"token hexcode\">#ddd</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token property-declaration\"><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">2</span>px <span class=\"token hexcode\">#ddd</span><span class=\"token punctuation\">;</span></span>\n\n  <span class=\"token selector\">.post-archive <span class=\"token punctuation\">{</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n    <span class=\"token property-declaration\"><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span>\n\n    <span class=\"token selector\">.post-item <span class=\"token punctuation\">{</span></span>\n      <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span>\n\n      <span class=\"token selector\">.post-date <span class=\"token punctuation\">{</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#BABABA</span><span class=\"token punctuation\">;</span></span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">.post-title <span class=\"token punctuation\">{</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode\">#368CCB</span><span class=\"token punctuation\">;</span></span>\n        <span class=\"token property-declaration\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"国际化\"><a href=\"#%E5%9B%BD%E9%99%85%E5%8C%96\" aria-label=\"国际化 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>国际化</h2>\n<p>还记得我们一开始创建的 <code class=\"language-text\">languages</code> 文件夹吗？没错，它是用来添加多种语言，用于 i18n 的。站点的语言设置为站点配置文件中的 <code class=\"language-text\">language</code>。</p>\n<p>当该字段为空时，默认使用的是 <code class=\"language-text\">languages/default.yml</code> 这个文件。那么现在我们来添加这个文件，我们决定主题的默认语言是英文：</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">Menu:\n  Home: Home\n  Archives: Archives\n  Github: Github\n\nPaginator:\n  Prev: Prev\n  Next: Next</code></pre></div>\n<p>目前我们需要主题根据选择的语言自动修改的有上面这些，接着我们需要修改 <code class=\"language-text\">header.ejs</code> 与 <code class=\"language-text\">paginator.ejs</code> 这两个文件：</p>\n<p><code class=\"language-text\">_partial/header.ejs</code></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blog-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for() %><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%= config.title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>navbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      &lt;% for (name in theme.menu) { %>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%- url_for(theme.menu[name]) %><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>menu-item-link<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&lt;%- __('Menu.' + name) %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      &lt;% } %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-text\">_partial/paginator.ejs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">&lt;% if (page.total > 1){ %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>page-nav<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    &lt;%- paginator({\n      prev_text: \"<span class=\"token entity\" title=\"&laquo;\">&amp;laquo;</span>\" + __('Paginator.Prev'),\n      next_text: __('Paginator.Next') + \"<span class=\"token entity\" title=\"&raquo;\">&amp;raquo;</span>\"\n    }) %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n&lt;% } %></code></pre></div>\n<p>修改之后其实与之前相比没有什么变化，起码看起来是。现在我们添加一个中文的文件：</p>\n<p><code class=\"language-text\">languages/zh-CN.yml</code></p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">Menu:\n  Home: 首页\n  Archives: 归档\n  Github: 交友\n\nPaginator:\n  Prev: 上一页\n  Next: 下一页</code></pre></div>\n<p>然后我们将站点配置文件中的 <code class=\"language-text\">language</code> 字段修改为 <code class=\"language-text\">zh-CN</code>（与 <code class=\"language-text\">zh-CN.yml</code> 文件名相同）。再次访问站点之后就会发现导航与分页部分的文字变成了中文。</p>\n<h2 id=\"最后总结\"><a href=\"#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93\" aria-label=\"最后总结 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>最后总结</h2>\n<p>如果你有耐心看我废话了这么多的话，恭喜你，你应该对怎么去写一个 Hexo 主题有了一定的了解。其实说白了，Hexo 就是把那些 Markdown 文件按照不同的布局模板，填上对应的数据生成 HTML 页面，复制 <code class=\"language-text\">source</code> 中的到生成的 <code class=\"language-text\">public</code> 文件夹中，中间过程会把需要编译的 stylus/less/sass 等文件编译。</p>\n<p>本文并没有提及有关页面 JavaScript 的部分，实际上与写 CSS 样式相同。在 <code class=\"language-text\">source/js</code> 中写 JavaScript 脚本，然后在模板中引入即可。</p>\n<p>感谢阅读，希望对你有所帮助。</p>","timeToRead":10}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"bd6c1bb5-bd1f-5e48-becc-6b4c2c3333bd","redirect":true,"redirectUrl":"/2016/12/15/从零开始制作Hexo主题/"}}