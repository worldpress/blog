---
title: Jade æ¨¡æ¿å¼•æ“
date: 2016-02-29 09:47:15
tags:
  - Jade
  - æ¨¡ç‰ˆå¼•æ“
  - å‰ç«¯
categories:
  - æŠ€æœ¯æ–‡ç« 
---
æœ€è¿‘åœ¨æ”¹ä¸€ä¸ª Hexo çš„ä¸»é¢˜ [apollo](https://github.com/pinggod/hexo-theme-apollo)ã€‚ç„¶åçœ‹åˆ°è¿™ä¸ªä¸»é¢˜ç”¨çš„æ˜¯å«åš Jade çš„æ¨¡ç‰ˆå¼•æ“å†™çš„ã€‚ä¹‹å‰äº†è§£è¿‡å‡ ä¸ªæ¨¡ç‰ˆå¼•æ“ ejsï¼Œswig ä»€ä¹ˆçš„ï¼Œä½†æ˜¯è¿™äº›éƒ½æ˜¯åœ¨åŸæœ‰çš„ HTML ä¸­æ’æ ‡ç­¾ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ä¹±ã€‚çœ‹åˆ° Jade åå°±æ·±æ·±çš„è¢«å®ƒé‚£å¦‚åŒ Python çš„ç¼©è¿›è¯­æ³•æ·±æ·±å¸å¼•äº†ï¼Œé‚ä¸Šç½‘å­¦ä¹ ä¸€å‘ã€‚

Jade æ˜¯ JavaScript å®ç°çš„ï¼Œä¾› Node ä½¿ç”¨ï¼ŒåŸç”Ÿæ”¯æŒ Expressã€‚ä½†ä¹Ÿæœ‰ PHPï¼ŒPython ç­‰å…¶ä»–è¯­è¨€çš„å®ç°ã€‚ï¼ˆè¦æ˜¯ HTML æ¨¡ç‰ˆç”¨ Jadeï¼ŒCSS ç”¨ Stylï¼Œåç«¯ç”¨ Pythonï¼Œé‚£å²‚ä¸æ˜¯å¾ˆå¥½ç©~å…¨æ˜¯ç¼©è¿›ç¼©è¿›ç¼©è¿›=ã€‚=ï¼‰


### DOCTYPE

æ·»åŠ æ–‡æ¡£ç±»å‹å¯ä»¥é€šè¿‡ `!!!`  æˆ–è€… `doctype ` æ¥æ·»åŠ ã€‚

<!--more-->
### æ ‡ç­¾ã€å±æ€§

 Jade å†™èµ·æ¥å°±è·Ÿåœ¨ Sublime Text ä¸­ç”¨ Emmet å†™ HTML ä¸€æ ·ã€‚æ ‡ç­¾ç›´æ¥å†™ï¼ŒClass ç”¨ `.`ï¼ŒID ç”¨ `#`ã€‚ä¸åŒçš„æ˜¯ï¼Œå±‚çº§å…³ç³» Jade ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºï¼Œç±»ä¼¼äº Pythonï¼Œè€Œ Emmet æ’ä»¶çš„å†™æ³•æ˜¯åªæœ‰ä¸€è¡Œçš„ã€‚ç»“æœå†™å‡ºæ¥å°±æ˜¯è¿™ä¸ªæ ·å­æ»´ï¼š

``` jade
doctype html
html
	head.class
    	title
    body#id
```

æ¸²æŸ“å‡ºæ¥çš„ç»“æœ:

``` html
<!DOCTYPE html>
<html>
  <head class="class">
    <title></title>
  </head>
  <body id="id">
  </body>
</html>
```

çœ‹èµ·æ¥è¶…çº§ç®€æ´ï¼Œè€Œä¸”éƒ½ä¸éœ€è¦å»å†™é—­åˆæ ‡ç­¾ã€‚ä¸è¿‡æ¯”è¾ƒéœ€è¦æ³¨æ„ç¼©è¿›ï¼Œåå¤„å°±æ˜¯å¦‚æœå¤åˆ¶ä»£ç è¿‡æ¥çš„è¯å¯èƒ½éœ€è¦é‡æ–°äººè„‘æ ¼å¼åŒ–ä¸€ä¸‹ã€‚



é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå…¶ä»–å±æ€§æ€ä¹ˆåŠï¼Ÿä¸æ˜¯ Class å’Œ id çš„è¯ï¼Œå°±å¯ä»¥åœ¨ æ ‡ç­¾åé¢åŠ ä¸ªæ‹¬å·ï¼Œå†™åœ¨æ‹¬å·é‡Œé¢ã€‚å½“å±æ€§å€¼ `undefined` æˆ–è€… `null` æ—¶ï¼Œè¯¥å±æ€§å°†ä¸ä¼šç¼–è¯‘ã€‚

``` jade
a(href="http://www.ahonn.me", class=null)
```

æ¸²æŸ“ä¸ºï¼š

``` html
<a href="http://www.ahonn.me></a>
```

è¿™æ ·å°±è§£å†³äº†å…¶ä»–å±æ€§çš„é—®é¢˜äº†~



### æ–‡æœ¬

é‚£ä¹ˆæ ‡ç­¾é‡Œçš„æ–‡æœ¬æ€ä¹ˆå†™å‘¢ï¼Œso easy~ åªè¦è·Ÿåœ¨æ ‡ç­¾çš„åé¢å°±è¡Œäº†ã€‚Like this:

``` jade
a(href="http://www.ahonn.me") Ahonn
```

æ¸²æŸ“ä¸ºï¼š

``` html
<a href="http://www.ahonn.me>Ahonn</a>
```



å¤§æ®µæ–‡æœ¬çš„è¯å¯ä»¥ä½¿ç”¨`|` æˆ–è€…`.`ï¼š

ä½¿ç”¨ `|`ï¼š

``` jade
p
  | one
  | two
  | there
```

ä½¿ç”¨`.`:

``` jade
p.
  one
  two
  there
```



ä¸Šé¢ä¸¤ç§å†™æ³•æ¸²æŸ“åæ˜¯ä¸ä¸€æ ·çš„ï¼Œä½¿ç”¨ `|` çš„å†™æ³•æ¸²æŸ“åä¸ä¼šæ¢è¡Œï¼Œè€Œä½¿ç”¨ `.` ä¼šæ ¹æ®æ ¼å¼åŸæ ·è¾“å‡ºã€‚

``` html
<!-- ä½¿ç”¨ | -->
<p>one two there</p>
<!-- ä½¿ç”¨ . -->
<p>one
two
there
</p>
```

åœ¨ä½¿ç”¨ `script`ã€`style`ã€`textarea` ç­‰åªåŒ…å«æ–‡æœ¬æ ‡ç­¾æ—¶ï¼Œå¯ä»¥ä¸åŠ å‰ç¼€ `|`ï¼Œ

å½“éœ€è¦åœ¨æ¨¡ç‰ˆä¸­å†™ JavaScript æ—¶ï¼Œæ¨èä½¿ç”¨ `.`ã€‚



æ—¢ç„¶æ˜¯ HTML æ¨¡ç‰ˆï¼Œé‚£ä¹ˆä¸€å®šæ˜¯å¯ä»¥ç»“åˆæ•°æ®çš„ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ `#{}` å°†å˜é‡åŒ…èµ·æ¥ã€‚è¿™æ ·çš„è¯ `#{}`  ä¸­çš„å€¼å°†ä¼šè¢«è½¬ä¹‰æˆå¯¹åº”çš„æ•°æ®ã€‚

ä¾‹å¦‚ï¼š

``` jade
- var name = "ahonn"
p.
 My name is #{name}
```

æ¸²æŸ“ä¸ºï¼š

```html
<p>My name is ahonn</p>
```



### æ³¨é‡Š

jade æ”¯æŒ HTML çš„æ³¨é‡Šï¼Œå³åœ¨ html ä»£ç ä¸­èƒ½çœ‹åˆ°çš„æ³¨é‡Šï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ Jade çš„æ³¨é‡Šï¼Œä¸ä¼šè¢«æ¸²æŸ“ã€‚

```jade
// HTML æ³¨é‡Š
p foo
//- Jade æ³¨é‡Šï¼Œè¿™ä¸ªæ³¨é‡Šåªæœ‰åœ¨ .jade æ–‡ä»¶ä¸­æ˜¾ç¤º
p bar
```

æ¸²æŸ“ä¸ºï¼š

``` html
<!-- HTML æ³¨é‡Š -->
<p>foo</p>
<p>bar</p>
```



### ä»£ç 

åœ¨ Jade ä¸­å¯ä»¥å®šä¹‰å˜é‡ï¼Œå†™æ¡ä»¶è¯­å¥æˆ–è€…å¾ªç¯ä»€ä¹ˆçš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ° `-` å‰ç¼€ï¼Œè¿™ä¸ä¼šè¢«è¾“å‡ºã€‚ `-` æ”¯æŒ JavaScript çš„è¯­æ³•ã€‚

``` jade
- var foo = 'bar';
- if (foo === 'bar')
- for (var key in obj)
  p= obj[key]
```

ä¸Šé¢å†™çš„æ¡ä»¶å’Œå¾ªç¯è¯­å¥æ˜¯ JavaScript ä¸­çš„å†™æ³•ï¼ŒåŒæ—¶ Jade ä¹Ÿæœ‰è‡ªå·±çš„æ¡ä»¶å’Œå¾ªç¯è¯­å¥ã€‚

**å¾ªç¯**ï¼š

``` jade
- var items = ["one", "two", "there"]
each item, i in items
  li #{item}: #{i}
```

æ¸²æŸ“ä¸ºï¼š

``` html
<li>one: 0</li>
<li>two: 1</li>
<li>three: 2</li>
```

**æ¡ä»¶**ï¼š

æ¡ä»¶è¯­å¥ç±»ä¼¼ Pythonï¼Œä¸éœ€è¦åŠ  `()`

``` jade
for user in users
  if user.role == 'admin'
    p #{user.name} is an admin
  else
    p= user.name
```



Jade æ”¯æŒè½¬ä¹‰å’Œéè½¬ä¹‰è¾“å‡ºï¼Œä½¿ç”¨ `=` æ—¶å°†ä¼šè½¬ä¹‰ï¼Œè€Œ `!=` å°†ä¼šåŸæ ·è¾“å‡ºã€‚

ä¾‹å¦‚ï¼š

``` jade
- var  ahonn = 'nnoha'
p= ahonn
p!= ahonn
```

æ¸²æŸ“ä¸ºï¼š

``` html
<p>nnoha</p>
<p>ahonn</p>
```



### ç»§æ‰¿ã€åŒ…å«

#### ç»§æ‰¿

Jade æ”¯æŒé€šè¿‡ `block` å’Œ `extends` å…³é”®å­—è€å®ç°æ¨¡ç‰ˆç»§æ‰¿ï¼Œ`block` éƒ¨åˆ†å°†åœ¨å­æ¨¡å—å®ç°ã€‚

ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š

layout.jade

``` jade
!!!
html
  head
  	block title
  body
  	block content
```

index.jade

``` jade
extends layout

block title
  title= ahonn

block content
  p.
    My name is ahonn.
    This is index.jade
```



index.jade ç»§æ‰¿ layout.jadeï¼Œlayout ä¸­çš„ block éƒ¨åˆ†å°†åœ¨å­æ¨¡ç‰ˆ index ä¸­å®ç°ã€‚

index.jade æ¸²æŸ“ä¸ºï¼š

``` html
<DOCTYPE html>
<html>
  <head>
    <title>ahonn</title>
  </head>
  <body>
  	<p>My name is ahonn.
    This is index.jade
    </p>
  </body>
</html>
```



#### åŒ…å«

Jade å¯ä»¥ä½¿ç”¨ `include` é™æ€åŒ…å«å…¶ä»–æ–‡ä»¶

head.jade

``` jade
head
  title!= ahonn
```

body.jade

``` jade
body
  p.
    My name is ahonn.
    This is index.jade
```

index.jade

````jade
html
  include head
  include body
````



æ¸²æŸ“ç»“æœå°†äºä¸Šé¢ç»§æ‰¿çš„ç›¸åŒã€‚



### Mixins

Mixins ç›¸å½“äº JavaScript ä¸­çš„å‡½æ•°ï¼Œå®é™…ä¸Š Mixins åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°±æ˜¯è¢«è½¬æ¢ä¸º JavaScript å‡½æ•°çš„ã€‚

ä¸å¸¦å‚æ•°çš„ ğŸŒ°ï¼š

``` jade
mixin list
  ul
	li foo
    li bar

h2!= Ahonn
+list()
```

æ¸²æŸ“ä¸ºï¼š

``` html
<h2>Ahonn</h2>
<ul>
  <li>foo</li>
  <li>bar</li>
</ul>
```



å¸¦å‚æ•°çš„ ğŸŒ°ï¼š

``` jade
mixin list(items)
  ul
    - each item in items
      li= item

- var items = ["foo", "bar"]
h2!= Ahonn
+list(items)
```

æ¸²æŸ“ç»“æœä¸ä¸Šé¢æ— å‚æ•°çš„ Mixins ç›¸åŒã€‚



### æ€»ç»“

ä½¿ç”¨ Jade å†™æ¨¡ç‰ˆéå¸¸çš„ç®€æ´ï¼Œå„ç§ `include` å’Œ `extends` ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥æ¨¡å—åŒ–çš„å»å†™å„ä¸ªç»„ä»¶ã€‚ä¼˜ç‚¹æ˜¾è€Œæ˜“è§ï¼Œå¯¹äºæˆ‘è¿™ç§å†™ Python çš„æ¥è¯´ç®€ç›´æ˜¯å¤§çˆ±ã€‚ä¸è¿‡å¯èƒ½è¿™ç§å†™æ³•ç›¸å¯¹äºå…¶ä»–æ¨¡ç‰ˆå¼•æ“æ¥è¯´å·®åˆ«è¾ƒå¤§ï¼Œè·Ÿ HTML ä»£ç çš„å·®åˆ«ä¹ŸæŒºå¤§ï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´ä¹Ÿæ˜¯æ¯”è¾ƒå°‘äººå»ç”¨äº†ã€‚è€Œä¸”ç”¨è¿™ä¸ªå†™çš„è¯ï¼Œå†™çš„äººæ¥ç»´æŠ¤çš„å€’æ˜¯æŒºæ–¹ä¾¿ç®€æ´ï¼Œä½†æ˜¯å¦‚æœæ˜¯å…¶ä»–äººæ¥ç»´æŠ¤çš„è¯è¿˜æ˜¯æ¯”è¾ƒéš¾ä¸Šæ‰‹çš„ï¼Œæœ‰ç‚¹å¢åŠ ç»´æŠ¤æˆæœ¬çš„æ„Ÿè§‰ã€‚ä¸è¿‡æˆ‘ä¸ªäººå€’æ˜¯æŒºå–œæ¬¢çš„ã€‚
